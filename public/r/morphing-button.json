{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "morphing-button",
  "dependencies": [
    "motion",
    "lucide-react",
    "react-icons"
  ],
  "files": [
    {
      "path": "src/components/ui/morphing-button.tsx",
      "content": "import React, { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence, LayoutGroup } from 'motion/react';\nimport { Sun, Moon } from 'lucide-react';\nimport { FaBell } from 'react-icons/fa6';\n\ninterface MorphingButtonProps {\n  buttonText?: string;\n  placeholder?: string;\n  onSubmit?: (email: string) => void;\n  className?: string;\n}\n\nexport const MorphingButton: React.FC<MorphingButtonProps> = ({\n  buttonText = \"Notify Me\",\n  placeholder = \"Email\",\n  onSubmit,\n  className = \"\"\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [isDark, setIsDark] = useState(false); // Theme state\n  const containerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsExpanded(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  useEffect(() => {\n    if (isExpanded && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isExpanded]);\n\n  const handleToggle = (e: React.MouseEvent) => {\n    if (!isExpanded) {\n      e.stopPropagation();\n      setIsExpanded(true);\n    } else if (email) {\n      onSubmit?.(email);\n      setIsExpanded(false);\n      setEmail(\"\");\n    }\n  };\n\n  const springConfig = {\n    type: \"spring\",\n    stiffness: 400,\n    damping: 30,\n    mass: 1\n  } as const;\n\n  return (\n    <div className={`min-h-screen w-full flex flex-col items-center justify-center gap-12 p-8 transition-colors duration-500 ${isDark ? 'bg-[#0A0A0A]' : 'bg-white'}`}>\n      \n      {/* Theme Toggle Button */}\n      <button \n        onClick={() => setIsDark(!isDark)}\n        className={`p-3 rounded-full transition-all active:scale-95 border ${\n          isDark ? 'bg-[#1C1C1E] border-white/10 text-yellow-400' : 'bg-white border-black/5 text-gray-400 shadow-sm'\n        }`}\n      >\n        {isDark ? <Sun size={20} /> : <Moon size={20} />}\n      </button>\n\n      <div className={`flex items-center justify-center ${className}`}>\n        <LayoutGroup>\n          <motion.div\n            ref={containerRef}\n            layout\n            transition={springConfig}\n            style={{ borderRadius: 32 }}\n            className={`\n              relative flex items-center overflow-hidden border-[1.1px] transition-colors duration-300\n              ${isDark ? \"border-white/5\" : \"border-[#e7e6e6a6]\"}\n              ${isExpanded \n                ? (isDark ? \"bg-[#1C1C1E] p-1 shadow-xl w-84\" : \"bg-[#F4F4F4] p-1 shadow-sm w-84\") \n                : (isDark ? \"bg-[#1C1C1E] p-0 w-auto\" : \"bg-[#F4F4F4] p-0 w-auto\")\n              }\n            `}\n          >\n            {/* Input Area */}\n            <AnimatePresence mode=\"popLayout\">\n              {isExpanded && (\n                <motion.div\n                  key=\"input-container\"\n                  initial={{ opacity: 0, x: -10 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  exit={{ opacity: 0, x: -10 }}\n                  transition={{ ...springConfig, delay: 0.1 }}\n                  className=\"flex-1 flex items-center px-4\"\n                >\n                  <input\n                    ref={inputRef}\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    placeholder={placeholder}\n                    className={`w-full bg-transparent outline-none text-xl font-semibold transition-colors ${\n                      isDark ? \"text-[#fefefe] placeholder-[#B2B2B2]\" : \"text-[#18181B] placeholder-[#A1A1AA]\"\n                    }`}\n                    onKeyDown={(e) => {\n                      if (e.key === 'Enter' && email) {\n                        onSubmit?.(email);\n                        setIsExpanded(false);\n                        setEmail(\"\");\n                      }\n                    }}\n                  />\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            {/* Button */}\n            <motion.button\n              layout\n              onClick={handleToggle}\n              transition={springConfig}\n              className={`\n                relative flex items-center justify-center gap-3 whitespace-nowrap font-bold\n                transition-colors duration-300\n                ${isExpanded \n                  ? (isDark \n                      ? \"bg-[#2C2C2E] text-white px-5 py-3 rounded-full shadow-lg hover:bg-[#3A3A3C]\" \n                      : \"bg-[#FEFEFE] text-black px-5 py-3 rounded-full shadow-sm hover:bg-[#fafafa]\") \n                  : (isDark\n                      ? \"bg-[#1C1C1E] text-white px-6 py-4 rounded-full hover:bg-[#252529]\"\n                      : \"bg-[#F4F4F4] text-black px-6 py-4 rounded-full hover:bg-[#ebeaea]\")\n                }\n              `}\n            >\n              <AnimatePresence mode=\"popLayout\">\n                {!isExpanded && (\n                  <motion.span\n                    key=\"bell-icon\"\n                    initial={{ opacity: 0, scale: 0.8 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    exit={{ opacity: 0, scale: 0.8 }}\n                    transition={springConfig}\n                  >\n                    <FaBell className={`w-6 h-6 ${isDark ? \"text-[#fefefe]\" : \"text-[#000000]/90\"}`} />\n                  </motion.span>\n                )}\n              </AnimatePresence>\n              \n              <motion.span \n                layout=\"position\" \n                className=\"text-xl tracking-tight\"\n              >\n                {buttonText}\n              </motion.span>\n            </motion.button>\n          </motion.div>\n        </LayoutGroup>\n      </div>\n    </div>\n  );\n};",
      "type": "registry:ui",
      "target": "components/ui/morphing-button.tsx"
    }
  ],
  "type": "registry:ui"
}