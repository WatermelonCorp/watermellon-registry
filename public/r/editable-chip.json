{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "editable-chip",
  "dependencies": [
    "lucide-react",
    "motion"
  ],
  "files": [
    {
      "path": "src/components/ui/editable-chip.tsx",
      "content": "\"use client\";\n\nimport {\n    useState,\n    useRef,\n    useEffect,\n    type FC,\n    type ChangeEvent,\n    type KeyboardEvent,\n    type MouseEvent,\n} from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { Check, Sun, Moon } from \"lucide-react\";\nimport { BiSolidPencil } from \"react-icons/bi\";\n\n/* --- Types --- */\ntype ChipState = \"default\" | \"active\" | \"editing\";\n\ninterface EditableChipProps {\n    defaultLabel?: string;\n    defaultState?: ChipState;\n    showThemeToggle?: boolean;\n    onChange?: (value: string) => void;\n}\n\nexport const EditableChip: FC<EditableChipProps> = ({\n    defaultLabel = \"Watchlist\",\n    defaultState = \"default\",\n    showThemeToggle = true,\n    onChange,\n}) => {\n    const [state, setState] = useState<ChipState>(defaultState);\n    const [label, setLabel] = useState<string>(defaultLabel);\n    const [isDark, setIsDark] = useState<boolean>(false);\n    const inputRef = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        if (isDark) document.documentElement.classList.add(\"dark\");\n        else document.documentElement.classList.remove(\"dark\");\n    }, [isDark]);\n\n    useEffect(() => {\n        if (state === \"editing\" && inputRef.current) {\n            requestAnimationFrame(() => {\n                inputRef.current?.focus();\n                inputRef.current?.select();\n            });\n        }\n    }, [state]);\n\n    const handleEdit = (e: MouseEvent) => {\n        e.stopPropagation();\n        setState(\"editing\");\n    };\n\n    const handleSave = (e: MouseEvent | KeyboardEvent) => {\n        e.stopPropagation();\n        const finalValue = label.trim() === \"\" ? \"Untitled\" : label;\n        setLabel(finalValue);\n        setState(\"active\");\n        onChange?.(finalValue);\n    };\n\n    const handleClick = () => {\n        if (state === \"default\") setState(\"active\");\n        else if (state === \"active\") setState(\"default\");\n    };\n\n    const getContainerStyles = (): string => {\n        switch (state) {\n            case \"editing\":\n                return \"bg-white dark:bg-zinc-900 border-black dark:border-zinc-100 border-2\";\n            case \"active\":\n                return \"border-[1.6px] border-[#E5E5E9] dark:border-zinc-700 bg-[#FEFEFE] dark:bg-zinc-800 shadow-sm\";\n            default:\n                return \"border-[1.6px] border-[#E5E5E9] dark:border-zinc-800 bg-[#FEFEFE] dark:bg-zinc-900/50 text-[#8B8B8B] dark:text-zinc-500\";\n        }\n    };\n\n    return (\n        <div className=\"flex flex-col items-center justify-center min-h-screen bg-[#FEFEFE] dark:bg-zinc-950 p-4 font-sans transition-colors duration-500\">\n            \n            {/* Theme Toggle */}\n            {showThemeToggle && (\n                <button\n                    onClick={() => setIsDark(!isDark)}\n                    className=\"mb-12 p-3 rounded-full bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 transition-all active:scale-90\"\n                >\n                    {isDark ? (\n                        <Sun className=\"text-yellow-400\" size={20} />\n                    ) : (\n                        <Moon className=\"text-zinc-500\" size={20} />\n                    )}\n                </button>\n            )}\n\n            <motion.div\n                layout\n                onClick={handleClick}\n                className={`\n                    relative flex items-center justify-center h-14 px-4 gap-[18px] rounded-full cursor-pointer \n                    transition-all duration-200 ease-in-out select-none pr-2 \n                    ${getContainerStyles()}\n                `}\n                transition={{\n                    type: \"spring\",\n                    stiffness: 400,\n                    damping: 30,\n                }}\n            >\n                {/* Content Area */}\n                <div className=\"flex items-center overflow-hidden\">\n                    <AnimatePresence mode=\"popLayout\">\n                        {state === \"editing\" ? (\n                            <motion.input\n                                key=\"input\"\n                                ref={inputRef}\n                                type=\"text\"\n                                value={label}\n                                onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                                    setLabel(e.target.value)\n                                }\n                                onKeyDown={(e: KeyboardEvent<HTMLInputElement>) =>\n                                    e.key === \"Enter\" && handleSave(e)\n                                }\n                                onClick={(e: MouseEvent) => e.stopPropagation()}\n                                className=\"\n                                    bg-transparent border-none outline-none\n                                    text-lg font-medium text-[#262626] dark:text-zinc-100\n                                    capitalize w-32 selection:bg-[#B6B6B6] dark:selection:bg-zinc-700\n                                \"\n                                initial={{ opacity: 0, x: -10 }}\n                                animate={{ opacity: 1, x: 0 }}\n                                exit={{ opacity: 0, x: 10 }}\n                            />\n                        ) : (\n                            <motion.span\n                                key=\"label\"\n                                layout\n                                initial={{ opacity: 0 }}\n                                animate={{ opacity: 1 }}\n                                className={`\n                                    rounded-full text-center text-lg font-medium whitespace-nowrap capitalize\n                                    ${\n                                        state === \"active\"\n                                            ? \"text-black dark:text-white\"\n                                            : \"text-[#8B8B8B] dark:text-zinc-500\"\n                                    }\n                                `}\n                            >\n                                {label}\n                            </motion.span>\n                        )}\n                    </AnimatePresence>\n                </div>\n\n                {/* Right Actions */}\n                <motion.div layout className=\"flex items-center h-12\">\n                    {state === \"editing\" ? (\n                        <div className=\"flex items-center gap-2\">\n                            <button\n                                type=\"button\"\n                                title=\"done\"\n                                onClick={handleSave}\n                                className=\"p-1 bg-black dark:bg-zinc-100 text-white dark:text-zinc-950 rounded-full transition-colors\"\n                            >\n                                <Check size={26} />\n                            </button>\n                        </div>\n                    ) : (\n                        <button\n                            type=\"button\"\n                            title=\"edit\"\n                            onClick={handleEdit}\n                            className=\"rounded-full transition-colors p-2 bg-[#F0EFF6] dark:bg-zinc-800 text-[#696871] dark:text-zinc-400 hover:dark:bg-zinc-700\"\n                        >\n                            <BiSolidPencil size={24} />\n                        </button>\n                    )}\n                </motion.div>\n            </motion.div>\n        </div>\n    );\n};\n\n\n",
      "type": "registry:ui",
      "target": "components/ui/editable-chip.tsx"
    }
  ],
  "type": "registry:ui"
}