{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-input002",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/ai-input002.tsx",
      "content": "import React, { useState, useRef, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { Plus, ArrowLeft } from \"lucide-react\";\n\n/* TYPES */\nexport type Role = \"user\" | \"assistant\";\n\nexport interface MessageReply {\n  id: string;\n  role: Role;\n  content: string;\n  timestamp: Date;\n}\n\n/* DEFAULT AI SERVICE */\nconst defaultReplies = [\"Lock in vro ü´°\", \"Got it üëç\", \"Interesting üëÄ\", \"Tell me more\"];\n\nconst defaultAiResponse = async (): Promise<string> => {\n  await new Promise((res) => setTimeout(res, 700));\n  return defaultReplies[0];\n};\n\n/* CHAT BUBBLE */\nconst ChatBubble: React.FC<{ role: Role; content: string }> = ({ role, content }) => {\n  const isUser = role === \"user\";\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.8, y: 20 }}\n      animate={{ opacity: 1, scale: 1, y: 0 }}\n      transition={{ type: \"spring\", damping: 20, stiffness: 300 }}\n      className={`flex w-full mb-3 ${isUser ? \"justify-end\" : \"justify-start\"}`}\n    >\n      <div\n        className={`max-w-[80%] px-5 py-2.5 text-[15px] font-semibold shadow-[0_2px_10px_rgba(0,0,0,0.05)]\n        ${\n          isUser\n            ? \"bg-white text-gray-800 border border-gray-100 rounded-[16px] rounded-br-[4px]\"\n            : \"bg-[#1DA1F2] text-white rounded-[16px] rounded-bl-[4px]\"\n        }`}\n      >\n        {content}\n      </div>\n    </motion.div>\n  );\n};\n\n/* AI INPUT BAR */\ninterface AiInputBarProps {\n  onSend: (msg: string) => void;\n  isLoading: boolean;\n  placeholderText: string;\n}\n\nconst AiInputBar: React.FC<AiInputBarProps> = ({\n  onSend,\n  isLoading,\n  placeholderText,\n}) => {\n  const [inputValue, setInputValue] = useState(\"\");\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleSubmit = () => {\n    if (inputValue.trim() && !isLoading) {\n      onSend(inputValue.trim());\n      setInputValue(\"\");\n    }\n  };\n\n  return (\n    <div className=\"w-[700px] max-w-full px-4 pb-12\">\n      <motion.div\n        layout\n        className=\"relative flex items-center bg-white rounded-[28px] p-2 shadow-[0_10px_30px_rgba(0,0,0,0.06)] border border-gray-100/50\"\n      >\n        <button title=\"add files\"\n          type=\"button\"\n          className=\"flex items-center justify-center w-12 h-12 ml-1 text-gray-400 bg-[#F2F2F2] rounded-lg hover:bg-gray-200 transition-colors\"\n        >\n          <Plus size={22} strokeWidth={2.5} />\n        </button>\n\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && handleSubmit()}\n          placeholder={placeholderText}\n          className=\"flex-1 py-3 px-4 outline-none text-gray-700 bg-transparent text-[17px] placeholder:text-gray-400\"\n          disabled={isLoading}\n        />\n\n        <div className=\"mr-1\">\n          <button title=\"send\"\n            onClick={handleSubmit}\n            className=\"flex items-center justify-center w-12 h-12 text-black/70 bg-[#F2F2F2] rounded-lg hover:bg-gray-200 transition-colors overflow-hidden\"\n          >\n            <motion.div\n              animate={{ rotate: inputValue.length > 0 ? 90 : 0 }}\n              transition={{ type: \"spring\", stiffness: 400, damping: 25 }}\n            >\n              <ArrowLeft size={22} strokeWidth={2.5} />\n            </motion.div>\n          </button>\n        </div>\n\n        {isLoading && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"absolute inset-0 bg-white/60 rounded-[28px] flex items-center justify-center\"\n          >\n            <div className=\"flex space-x-1.5\">\n              {[0, 0.2, 0.4].map((d) => (\n                <motion.div\n                  key={d}\n                  animate={{ y: [0, -4, 0] }}\n                  transition={{ repeat: Infinity, duration: 0.6, delay: d }}\n                  className=\"w-1.5 h-1.5 bg-gray-400 rounded-full\"\n                />\n              ))}\n            </div>\n          </motion.div>\n        )}\n      </motion.div>\n    </div>\n  );\n};\n\n/* MAIN REUSABLE COMPONENT */\ninterface AiInput002Props {\n  initialMessages?: MessageReply[];\n  aiResponseFn?: () => Promise<string>;\n  placeholderText?: string;\n}\n\nexport const AiInput002: React.FC<AiInput002Props> = ({\n  initialMessages = [],\n  aiResponseFn = defaultAiResponse,\n  placeholderText = \"Send Message\",\n}) => {\n  const [messages, setMessages] = useState<MessageReply[]>(initialMessages);\n  const [isLoading, setIsLoading] = useState(false);\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    scrollRef.current?.scrollTo({\n      top: scrollRef.current.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }, [messages, isLoading]);\n\n  const handleSend = async (content: string) => {\n    setMessages((p) => [\n      ...p,\n      { id: Date.now().toString(), role: \"user\", content, timestamp: new Date() },\n    ]);\n\n    setIsLoading(true);\n    const reply = await aiResponseFn();\n\n    setMessages((p) => [\n      ...p,\n      {\n        id: (Date.now() + 1).toString(),\n        role: \"assistant\",\n        content: reply,\n        timestamp: new Date(),\n      },\n    ]);\n    setIsLoading(false);\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-[#F8F9FA]\">\n      <div ref={scrollRef} className=\"flex-1 overflow-y-auto px-4 flex flex-col\">\n        <div className=\"flex-grow\" />\n        <div className=\"max-w-2xl mx-auto w-full pb-4\">\n          <AnimatePresence>\n            {messages.map((m) => (\n              <ChatBubble key={m.id} {...m} />\n            ))}\n          </AnimatePresence>\n        </div>\n      </div>\n\n      <div className=\"flex justify-center items-center mb-6\">\n        <AiInputBar\n          onSend={handleSend}\n          isLoading={isLoading}\n          placeholderText={placeholderText}\n        />\n      </div>\n    </div>\n  );\n};\n",
      "type": "registry:ui",
      "target": "components/ui/ai-input002.tsx"
    }
  ],
  "type": "registry:ui"
}