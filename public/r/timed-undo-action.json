{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "timed-undo-action",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/timed-undo-action.tsx",
      "content": "\"use client\";\n\nimport { useEffect, useState, type FC, type ReactNode } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { HiMiniArrowUturnLeft } from \"react-icons/hi2\";\nimport { Sun, Moon } from \"lucide-react\";\n\n/* ---------- TYPES ---------- */\n\nexport interface TimedUndoActionProps {\n  initialSeconds?: number;\n  deleteLabel?: string;\n  undoLabel?: string;\n  icon?: ReactNode;\n  showThemeToggle?: boolean;\n}\n\n/* ---------- MAIN COMPONENT ---------- */\n\nexport const TimedUndoAction: FC<TimedUndoActionProps> = ({\n  initialSeconds = 10,\n  deleteLabel = \"Delete Account\",\n  undoLabel = \"Cancel Deletion\",\n  icon = <HiMiniArrowUturnLeft size={18} strokeWidth={0.5} />,\n  showThemeToggle = true,\n}) => {\n  const [undo, setUndo] = useState(false);\n  const [count, setCount] = useState(initialSeconds - 1);\n  const [isDark, setIsDark] = useState(false);\n\n  // Theme Sync\n  useEffect(() => {\n    if (isDark) {\n      document.documentElement.classList.add(\"dark\");\n    } else {\n      document.documentElement.classList.remove(\"dark\");\n    }\n  }, [isDark]);\n\n  // Countdown logic\n  useEffect(() => {\n    if (!undo) return;\n\n    if (count === 0) {\n      setUndo(false);\n      setCount(initialSeconds);\n      return;\n    }\n\n    const timer = setTimeout(() => {\n      setCount((c) => c - 1);\n    }, 1000);\n\n    return () => clearTimeout(timer);\n  }, [undo, count, initialSeconds]);\n\n  const startUndo = () => {\n    setUndo(true);\n    setCount(initialSeconds);\n  };\n\n  const cancelUndo = () => {\n    setUndo(false);\n    setCount(initialSeconds);\n  };\n\n  return (\n    <div className=\"flex flex-col justify-center items-center h-screen bg-white dark:bg-zinc-950 transition-colors duration-500 gap-12\">\n      {/* THEME TOGGLE */}\n      {showThemeToggle && (\n        <button\n          onClick={() => setIsDark(!isDark)}\n          className=\"p-3 rounded-full bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 transition-all active:scale-90\"\n        >\n          {isDark ? (\n            <Sun className=\"text-yellow-400\" size={20} />\n          ) : (\n            <Moon className=\"text-zinc-500\" size={20} />\n          )}\n        </button>\n      )}\n\n      <motion.div\n        layout=\"position\"\n        transition={{ type: \"spring\", stiffness: 220, damping: 26 }}\n        className=\"relative\"\n      >\n        <AnimatePresence mode=\"wait\">\n          {!undo ? (\n            /* DELETE BUTTON */\n            <motion.button\n              key=\"delete\"\n              onClick={startUndo}\n              initial={{ opacity: 0, y: 4, filter: \"blur(6px)\" }}\n              animate={{ opacity: 1, y: 0, filter: \"blur(0px)\" }}\n              exit={{ opacity: 0, y: -4, filter: \"blur(6px)\" }}\n              transition={{ duration: 0.25, ease: \"easeOut\" }}\n              whileHover={{ scale: 1.04, y: -1 }}\n              whileTap={{ scale: 0.96 }}\n              className=\"h-14 px-10 rounded-full bg-[#FE3429] dark:bg-red-600\n                         text-white text-lg font-semibold shadow-lg shadow-red-500/20 dark:shadow-red-900/30 cursor-pointer\"\n            >\n              {deleteLabel}\n            </motion.button>\n          ) : (\n            /* UNDO BUTTON */\n            <motion.button\n              key=\"undo\"\n              onClick={cancelUndo}\n              initial={{ opacity: 0, y: 4, filter: \"blur(6px)\" }}\n              animate={{ opacity: 1, y: 0, filter: \"blur(0px)\" }}\n              exit={{ opacity: 0, y: -4, filter: \"blur(6px)\" }}\n              transition={{ duration: 0.25, ease: \"easeOut\" }}\n              whileHover={{ scale: 1.03, y: -1 }}\n              whileTap={{ scale: 0.96 }}\n              className=\"flex items-center gap-3.5 h-14 pl-3 pr-3 rounded-full\n                         bg-[#FEF0F1] dark:bg-red-950/30 text-[#FE3429] dark:text-red-400\n                         border border-red-100 dark:border-red-900/30 font-semibold shadow-sm cursor-pointer\"\n            >\n              <span className=\"flex h-8 w-8 items-center justify-center rounded-full bg-[#FE3429] dark:bg-red-500 text-white shadow-sm\">\n                {icon}\n              </span>\n\n              <span className=\"text-lg font-bold\">{undoLabel}</span>\n\n              {/* COUNTDOWN */}\n              <div className=\"relative ml-2 h-8 w-10 overflow-hidden rounded-full bg-[#FE3429] dark:bg-red-500 text-white shadow-inner\">\n                <AnimatePresence mode=\"popLayout\">\n                  <motion.span\n                    key={count}\n                    initial={{ y: -20, opacity: 0 }}\n                    animate={{ y: 0, opacity: 1 }}\n                    exit={{ y: 20, opacity: 0 }}\n                    transition={{ type: \"spring\", stiffness: 320, damping: 20 }}\n                    className=\"absolute inset-0 flex items-center justify-center text-base font-mono\"\n                  >\n                    {count}\n                  </motion.span>\n                </AnimatePresence>\n              </div>\n            </motion.button>\n          )}\n        </AnimatePresence>\n      </motion.div>\n    </div>\n  );\n};\n",
      "type": "registry:ui",
      "target": "components/ui/timed-undo-action.tsx"
    }
  ],
  "type": "registry:ui"
}