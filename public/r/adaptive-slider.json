{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "adaptive-slider",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/adaptive-slider.tsx",
      "content": "\"use client\";\n\nimport { useState, useMemo, type FC, type ChangeEvent } from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\n\n/* ---------- Types ---------- */\ninterface AdaptiveSliderProps {\n  value?: number;\n  min?: number;\n  max?: number;\n  step?: number;\n  defaultValue?: number;\n  onChange?: (value: number) => void;\n}\n\ninterface ColorSettings {\n  text: string;\n  gradient: string;\n  thumbBorder: string;\n}\n\n/* ---------- Defaults ---------- */\nconst DEFAULT_MIN = 50;\nconst DEFAULT_MAX = 350;\nconst DEFAULT_STEP = 25;\nconst DEFAULT_VALUE = 200;\n\n/* ---------- Color Logic ---------- */\nconst getColorSettings = (\n  value: number,\n  min: number,\n  max: number\n): ColorSettings => {\n  const percentage = (value - min) / (max - min);\n\n  if (percentage < 0.5) {\n    return {\n      text: \"#10B981\",\n      gradient: \"linear-gradient(to right, #FEB101, #FE7C09)\",\n      thumbBorder: \"#10B981\",\n    };\n  } else if (percentage < 0.7) {\n    return {\n      text: \"#FE55B7\",\n      gradient: \"linear-gradient(to right, #FE55B74D, #FE55B7)\",\n      thumbBorder: \"#F97316\",\n    };\n  } else {\n    return {\n      text: \"#D946EF\",\n      gradient: \"linear-gradient(to right, #DAB0FE, #4946FF)\",\n      thumbBorder: \"#D946EF\",\n    };\n  }\n};\n\n/* ---------- Component ---------- */\nexport const AdaptiveSlider: FC<AdaptiveSliderProps> = ({\n  value,\n  min = DEFAULT_MIN,\n  max = DEFAULT_MAX,\n  step = DEFAULT_STEP,\n  defaultValue = DEFAULT_VALUE,\n  onChange,\n}) => {\n  const [internalValue, setInternalValue] = useState<number>(defaultValue);\n\n  const calories = value ?? internalValue;\n\n  const colorSettings = useMemo(\n    () => getColorSettings(calories, min, max),\n    [calories, min, max]\n  );\n\n\n  const percentage = ((calories - min) / (max - min)) * 100;\n\n  const dots = useMemo(\n    () =>\n      Array.from({ length: 6 }).map((_, i) => (\n        <div\n          key={i}\n          className=\"w-1.5 h-1.5 rounded-full bg-[#C4B9FA] dark:bg-zinc-600 z-30 transition-colors\"\n          style={{ opacity: 0.8 }}\n        />\n      )),\n    []\n  );\n\n  const handleSliderChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const val = Number(e.target.value);\n    setInternalValue(val);\n    onChange?.(val);\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-[#f3f4f6] dark:bg-zinc-950 p-4 transition-colors duration-500\">\n\n      {/* Container Card */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"bg-[#FEFEFE] dark:bg-zinc-900 rounded-[36px] p-12 shadow-2xl shadow-black/5 dark:shadow-none w-full max-w-md flex flex-col items-center justify-center select-none h-[60vh] transition-colors\"\n      >\n        {/* Label */}\n        <span className=\"text-[#878787] dark:text-zinc-500 font-bold text-2xl mb-2\">\n          Calories\n        </span>\n\n        {/* Value */}\n        <div className=\"flex items-baseline gap-2 mb-8\">\n          <AnimatePresence mode=\"wait\">\n            <motion.span\n              key={calories}\n              initial={{ y: 5, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              exit={{ y: -5, opacity: 0 }}\n              transition={{ duration: 0.15 }}\n              style={{\n                background: colorSettings.gradient,\n                WebkitBackgroundClip: \"text\",\n                WebkitTextFillColor: \"transparent\",\n              }}\n              className=\"text-6xl font-extrabold tracking-tight\"\n            >\n              {calories}\n            </motion.span>\n          </AnimatePresence>\n          <span className=\"text-[#010101] dark:text-zinc-100 font-extrabold text-5xl transition-colors\">\n            kCal\n          </span>\n        </div>\n\n        {/* Slider */}\n        <div className=\"relative w-full h-[54px] flex items-center group\">\n          <div className=\"absolute inset-0 bg-[#f1f3f5] dark:bg-zinc-800 rounded-full flex items-center justify-between px-6 pointer-events-none transition-colors\">\n            {dots}\n          </div>\n\n          <motion.div\n            className=\"absolute left-0 h-[54px] rounded-full pointer-events-none py-1 flex items-center justify-end\"\n            animate={{\n              width: `${Math.max(percentage, 18)}%`,\n              background: colorSettings.gradient,\n            }}\n            transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\n          />\n\n          <input title=\"range\"\n            type=\"range\"\n            min={min}\n            max={max}\n            step={step}\n            value={calories}\n            onChange={handleSliderChange}\n            className=\"absolute inset-0 w-full h-16 opacity-0 cursor-pointer z-20\"\n          />\n\n          <motion.div\n            className=\"absolute pointer-events-none w-12 h-12 bg-[#FEFEFE] dark:bg-zinc-100 rounded-full flex items-center z-40 justify-end shadow-lg border-none\"\n            animate={{\n              left: `calc(${percentage}% - 80px)`,\n            }}\n            transition={{ type: \"spring\", stiffness: 400, damping: 35 }}\n            style={{\n              marginLeft: percentage < 10 ? \"90px\" : \"24px\",\n              borderWidth: \"4px\",\n            }}\n          >\n            <div className=\"w-full h-full rounded-full border border-gray-100 dark:border-zinc-300\" />\n          </motion.div>\n        </div>\n      </motion.div>\n    </div>\n  );\n};",
      "type": "registry:ui",
      "target": "components/ui/adaptive-slider.tsx"
    }
  ],
  "type": "registry:ui"
}