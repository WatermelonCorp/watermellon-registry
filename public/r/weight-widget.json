{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "weight-widget",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/weight-widget.tsx",
      "content": "import React, { useEffect, useState, useMemo } from 'react';\nimport { motion, useMotionValue, useSpring, useTransform, type PanInfo, MotionValue } from 'motion/react';\nimport { Sun, Moon } from 'lucide-react';\n\ninterface WeightWidgetProps {\n  initialValue?: number;\n  min?: number;\n  max?: number;\n  onChange?: (value: number) => void;\n}\n\nexport const WeightWidget: React.FC<WeightWidgetProps> = ({\n  initialValue = 25,\n  min = 0,\n  max = 100,\n  onChange\n}) => {\n  const widgetWidth = 350; \n  const widgetHeight = 350;\n  const pixelsPerUnit = 80;\n\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const isDark = theme === 'dark';\n\n  const x = useMotionValue(-initialValue * pixelsPerUnit);\n  \n  const springConfig = { damping: 25, stiffness: 200, mass: 0.5 };\n  const springX = useSpring(x, springConfig);\n\n  const [displayValue, setDisplayValue] = useState(initialValue);\n\n  useEffect(() => {\n    const unsubscribe = springX.on(\"change\", (latest) => {\n      const val = Math.abs(latest / pixelsPerUnit);\n      const roundedVal = Math.round(val);\n      if (roundedVal !== displayValue) {\n        setDisplayValue(roundedVal);\n        if (onChange) onChange(roundedVal);\n      }\n    });\n    return () => unsubscribe();\n  }, [springX, pixelsPerUnit, onChange, displayValue]);\n\n  const handleDrag = (_: any, info: PanInfo) => {\n    const newX = x.get() + info.delta.x;\n    const minX = -max * pixelsPerUnit;\n    const maxX = -min * pixelsPerUnit;\n    x.set(Math.max(minX, Math.min(maxX, newX)));\n  };\n\n  const handleDragEnd = (_: any, info: PanInfo) => {\n    const currentX = x.get();\n    const velocity = info.velocity.x * 0.1; \n    const targetX = currentX + velocity;\n    const snappedX = Math.round(targetX / pixelsPerUnit) * pixelsPerUnit;\n    x.set(snappedX);\n  };\n\n  const range = useMemo(() => {\n    const items = [];\n    for (let i = min; i <= max; i++) {\n      items.push(i);\n    }\n    return items;\n  }, [min, max]);\n\n  return (\n     <div className={`flex flex-col items-center justify-center h-screen p-8 space-y-8 transition-colors duration-500 ${isDark ? 'bg-[#0A0A0B]' : 'bg-gray-50'}`}>\n      \n      {/* Theme Toggle */}\n      <motion.button\n        onClick={() => setTheme(isDark ? 'light' : 'dark')}\n        whileTap={{ scale: 0.9 }}\n        className={`p-3 rounded-full border shadow-sm transition-colors ${isDark ? 'bg-[#161618] border-[#27272A] text-yellow-400' : 'bg-white border-[#F0F0F0] text-slate-600'}`}\n      >\n        {isDark ? <Sun size={20} /> : <Moon size={20} />}\n      </motion.button>\n\n      <div \n        className={`relative rounded-[45px] font-sans shadow-lg flex flex-col items-center overflow-hidden select-none touch-none border-2 transition-colors duration-300 ${\n          isDark ? 'bg-[#121214] border-[#1E1E21]' : 'bg-white border-[#F0F0F0]'\n        }`}\n        style={{ width: widgetWidth, height: widgetHeight }}\n      >\n        <div className={`mt-10 font-semibold text-[26px] capitalize tracking-wide transition-colors ${isDark ? 'text-[#475569]' : 'text-[#94A3B8]'}`}>\n          Weight\n        </div>\n\n        <div className=\"relative flex-1 w-full flex justify-center items-start\">\n          {/* Sliding Numbers Layer */}\n          <motion.div \n            drag=\"x\"\n            dragMomentum={true}\n            onDrag={handleDrag}\n            onDragEnd={handleDragEnd}\n            className=\"absolute h-full w-full flex items-start cursor-grab active:cursor-grabbing\"\n            style={{ x: springX, left: '50%' }}\n          >\n            {range.map((i) => (\n              <DialItem \n                key={i} \n                value={i} \n                pixelsPerUnit={pixelsPerUnit} \n                scrollX={springX}\n                isDark={isDark}\n              />\n            ))}\n          </motion.div>\n\n          {/* Static Indicator */}\n          <div className=\"absolute bottom-0 flex flex-col items-center z-20 pointer-events-none\">\n            <div className={`w-[10px] h-[10px] rounded-full mb-1 transition-colors ${isDark ? 'bg-white' : 'bg-black'}`} />\n            <div className={`w-[4px] h-14 rounded-full transition-colors ${isDark ? 'bg-white' : 'bg-black'}`} />\n          </div>\n\n          {/* Side Gradients */}\n          <div className={`absolute inset-y-0 left-0 w-16 z-10 pointer-events-none transition-colors ${\n            isDark \n            ? 'bg-gradient-to-r from-[#121214] via-[#121214]/80 to-transparent' \n            : 'bg-gradient-to-r from-white via-white/80 to-transparent'\n          }`} />\n          <div className={`absolute inset-y-0 right-0 w-16 z-10 pointer-events-none transition-colors ${\n            isDark \n            ? 'bg-gradient-to-l from-[#121214] via-[#121214]/80 to-transparent' \n            : 'bg-gradient-to-l from-white via-white/80 to-transparent'\n          }`} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst DialItem: React.FC<{ \n  value: number; \n  pixelsPerUnit: number; \n  scrollX: MotionValue<number>;\n  isDark: boolean;\n}> = ({ value, pixelsPerUnit, scrollX, isDark }) => {\n  const itemX = value * pixelsPerUnit;\n  const distance = useTransform(scrollX, (s: number) => Math.abs(s + itemX));\n\n  const opacity = useTransform(distance, [0, pixelsPerUnit * 2, pixelsPerUnit * 3], [1, 0.4, 0]);\n  \n  const color = useTransform(\n    distance, \n    [0, pixelsPerUnit], \n    isDark ? [\"#F8FAFC\", \"#334155\"] : [\"#25262B\", \"#CBD5E1\"]\n  );\n\n  const scale = useTransform(distance, [0, pixelsPerUnit * 2], [1, 0.85]);\n  const yOffset = useTransform(distance, [0, pixelsPerUnit * 3], [0, 60]);\n\n  const rotate = useTransform(scrollX, (s: number) => {\n    const d = s + itemX;\n    return (d / pixelsPerUnit) * 12; \n  });\n\n  return (\n    <motion.div\n      className=\"absolute top-0 flex flex-col items-center\"\n      style={{ \n        left: itemX,\n        x: \"-50%\",\n        opacity,\n        scale,\n        y: yOffset,\n        rotate,\n        transformOrigin: \"center 190px\" \n      }}\n    >\n      <motion.span \n        className=\"text-[74px] font-bold tracking-tighter\"\n        style={{ color }}\n      >\n        {value}\n      </motion.span>\n\n      <div className=\"flex flex-col items-center mt-6\">\n        <div className={`w-[4px] h-9 rounded-full transition-colors ${isDark ? 'bg-[#2D2D30]' : 'bg-[#D6D5E1]'}`} />\n      </div>\n    </motion.div>\n  );\n};",
      "type": "registry:ui",
      "target": "components/ui/weight-widget.tsx"
    }
  ],
  "type": "registry:ui"
}