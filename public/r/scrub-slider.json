{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "scrub-slider",
  "dependencies": [
    "lucide-react",
    "motion"
  ],
  "files": [
    {
      "path": "src/components/ui/scrub-slider.tsx",
      "content": "\"use client\";\n\nimport { useRef, useState, useEffect, type FC } from \"react\";\nimport { motion, useMotionValue, useSpring, type Spring } from \"motion/react\";\nimport { Sun, Moon } from \"lucide-react\";\n\n/* --- Types & Props --- */\ninterface ScrubSliderProps {\n  initialValue?: number;\n  tickCount?: number;\n}\n\ninterface AnimatedNumberProps {\n  value: number;\n}\n\nconst SPRING: Spring = {\n  stiffness: 420,\n  damping: 28,\n};\n\n/* --- Sub-Component --- */\nconst AnimatedNumber: FC<AnimatedNumberProps> = ({ value }) => {\n  return <>{value}</>;\n};\n\n/* --- Main Component --- */\nexport const ScrubSlider: FC<ScrubSliderProps> = ({ initialValue = 0, tickCount = 32 }) => {\n  const sliderRef = useRef<HTMLDivElement>(null);\n  const x = useMotionValue(0);\n  const smoothX = useSpring(x, SPRING);\n\n  const [isDark, setIsDark] = useState<boolean>(false);\n  const [value, setValue] = useState<number>(initialValue);\n  const [isDragging, setIsDragging] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (isDark) document.documentElement.classList.add(\"dark\");\n    else document.documentElement.classList.remove(\"dark\");\n  }, [isDark]);\n\n  const updateValue = (clientX: number) => {\n    if (!sliderRef.current) return;\n\n    const rect = sliderRef.current.getBoundingClientRect();\n    const padding = 16;\n    const width = rect.width - padding * 2;\n\n    let posX = clientX - rect.left - padding;\n    posX = Math.max(0, Math.min(posX, width));\n\n    const step = width / (tickCount - 1);\n    const snappedIndex = Math.round(posX / step);\n    const snappedX = snappedIndex * step;\n\n    setValue(snappedIndex);\n    x.set(snappedX + padding);\n  };\n\n  return (\n    <div className=\"w-full min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-zinc-950 transition-colors duration-500\">\n      \n      {/* Theme Toggle Button */}\n      <button\n        onClick={() => setIsDark(!isDark)}\n        className=\"mb-12 p-3 rounded-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 shadow-sm active:scale-90 transition-all\"\n      >\n        {isDark ? <Sun className=\"text-yellow-400\" size={20} /> : <Moon className=\"text-zinc-500\" size={20} />}\n      </button>\n\n      <div className=\"relative w-full max-w-md select-none\">\n        {/* VALUE BUBBLE */}\n        <motion.div\n          style={{ left: smoothX }}\n          className=\"absolute -top-12 z-30 -translate-x-1/2 pointer-events-none\"\n        >\n          <motion.div\n            animate={{\n              y: isDragging ? -4 : 0,\n              scale: isDragging ? 1.05 : 1,\n            }}\n            transition={SPRING}\n            className=\"px-3 py-1.5 rounded-xl bg-gray-900 dark:bg-zinc-100 text-gray-50 dark:text-zinc-950 text-2xl font-semibold shadow-sm\"\n          >\n            <AnimatedNumber value={value} />Â°C\n          </motion.div>\n        </motion.div>\n\n        {/* SLIDER */}\n        <div\n          ref={sliderRef}\n          onMouseDown={(e) => {\n            setIsDragging(true);\n            updateValue(e.clientX);\n          }}\n          onMouseMove={(e) => isDragging && updateValue(e.clientX)}\n          onMouseUp={() => setIsDragging(false)}\n          onMouseLeave={() => setIsDragging(false)}\n          onTouchStart={(e) => {\n            setIsDragging(true);\n            updateValue(e.touches[0].clientX);\n          }}\n          onTouchMove={(e) => updateValue(e.touches[0].clientX)}\n          onTouchEnd={() => setIsDragging(false)}\n          className=\"relative h-24 rounded-3xl border border-gray-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 shadow-md cursor-pointer overflow-hidden touch-none\"\n        >\n          {/* TICKS */}\n          <div className=\"absolute inset-4 flex\">\n            {Array.from({ length: tickCount }).map((_, i) => (\n              <div key={i} className=\"flex-1 flex justify-center\">\n                <div className=\"w-0.5 h-full bg-gray-300 dark:bg-zinc-700 rounded-full\" />\n              </div>\n            ))}\n          </div>\n\n          {/* ACTIVE LINE */}\n          <motion.div\n            style={{ left: smoothX }}\n            className=\"absolute top-4 bottom-4 w-1 bg-black dark:bg-zinc-100 rounded-full\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\n",
      "type": "registry:ui",
      "target": "components/ui/scrub-slider.tsx"
    }
  ],
  "type": "registry:ui"
}