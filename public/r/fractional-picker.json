{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "fractional-picker",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/fractional-picker.tsx",
      "content": "\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport {\n  motion,\n  useMotionValue,\n  useTransform,\n  animate,\n} from \"motion/react\";\nimport { Sun, MoonIcon } from \"lucide-react\";\n\n/*  Types  */\n\ninterface FractionalPickerProps {\n  min?: number;\n  max?: number;\n  initialValue?: number;\n  onChange?: (val: number) => void;\n  containerWidth?: number;\n  itemWidth?: number;\n}\n\n/*  Constants  */\n\nconst TICK_COUNT_PER_INTERVAL = 10;\n\n/*  Ruler Item  */\n\nconst RulerItem: React.FC<{\n  num: number;\n  x: any;\n  itemWidth: number;\n  centerOffset: number;\n}> = ({ num, x, itemWidth, centerOffset }) => {\n  const distance = useTransform(x, (latestX: number) => {\n    const itemPos = num * itemWidth + latestX + centerOffset;\n    return Math.abs(itemPos - centerOffset);\n  });\n\n  const scale = useTransform(distance, [0, itemWidth * 1.5], [1.1, 0.85]);\n  const opacity = useTransform(distance, [0, itemWidth * 2], [1, 0.8]);\n\n  /* light / dark aware text color */\n  const color = useTransform(distance, [0, itemWidth], [\n    \"rgb(148,163,184)\" ,   \n    \"rgb(148,163,184)\", \n  ]);\n\n  const fontWeight = useTransform(distance, [0, itemWidth / 2], [600, 400]);\n\n  return (\n    <div\n      className=\"flex flex-col items-center flex-shrink-0\"\n      style={{ width: itemWidth }}\n    >\n      <motion.span\n        className=\"text-[26px] select-none pointer-events-none mb-6 tabular-nums\n                   dark:text-red-100\"\n        style={{ scale, opacity, color, fontWeight: fontWeight as any }}\n      >\n        {num}\n      </motion.span>\n\n      {/* Ticks */}\n      <div className=\"flex w-full justify-between items-end px-[1px]\">\n        {Array.from({ length: TICK_COUNT_PER_INTERVAL }).map((_, i) => (\n          <div\n            key={i}\n            className={`w-[1.5px] rounded-full transition-colors\n              ${i === 0\n                ? \"h-6 bg-gray-300 dark:bg-zinc-600\"\n                : \"h-3 bg-gray-200 dark:bg-zinc-700\"\n              }`}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\n/*  Main Component  */\n\nexport const FractionalPicker: React.FC<FractionalPickerProps> = ({\n  min = 0,\n  max = 100,\n  initialValue = 13,\n  onChange,\n  containerWidth = 500,\n  itemWidth = 70,\n}) => {\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\");\n\n  const numbers = Array.from({ length: max - min + 1 }, (_, i) => i + min);\n  const centerOffset = containerWidth / 2;\n\n  const x = useMotionValue(-(initialValue * itemWidth));\n  const [currentValue, setCurrentValue] = useState(initialValue);\n\n  /* ---- theme sync  ---- */\n  useEffect(() => {\n    document.documentElement.classList.toggle(\"dark\", theme === \"dark\");\n  }, [theme]);\n\n  /* ---- value sync ---- */\n  useEffect(() => {\n    const unsubscribe = x.on(\"change\", (latest) => {\n      const val = Math.round(Math.abs(latest / itemWidth));\n      if (val !== currentValue && val >= min && val <= max) {\n        setCurrentValue(val);\n        onChange?.(val);\n      }\n    });\n    return () => unsubscribe();\n  }, [x, itemWidth, currentValue, onChange, min, max]);\n\n  const snap = () => {\n    const current = x.get();\n    const snapped = Math.round(current / itemWidth) * itemWidth;\n    const clamped = Math.max(\n      Math.min(snapped, -min * itemWidth),\n      -max * itemWidth\n    );\n\n    animate(x, clamped, {\n      type: \"spring\",\n      stiffness: 250,\n      damping: 30,\n      mass: 0.8,\n    });\n  };\n\n  return (\n    <div className=\"relative group flex justify-center items-center w-full h-screen\n                    bg-gray-50 dark:bg-zinc-950 text-white transition-colors duration-500\">\n\n      {/* Theme Toggle  */}\n      <button\n        onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}\n        className=\"absolute top-10 p-3 rounded-full bg-white dark:bg-zinc-900\n                   border border-gray-200 dark:border-zinc-800 shadow-sm\n                   hover:scale-110 transition-all z-50\"\n      >\n        {theme === \"light\" ? <MoonIcon className=\"text-black \"/> : <Sun className=\"text-white\"/>}\n      </button>\n\n      <div\n        className=\"relative h-[130px] bg-white dark:bg-zinc-900\n                   rounded-[32px] border-[1.6px]\n                   border-[#e5e5e5] dark:border-zinc-800\n                   shadow-[0_8px_30px_rgb(0,0,0,0.04)]\n                   dark:shadow-[0_8px_30px_rgb(0,0,0,0.6)]\n                   overflow-hidden\"\n        style={{ width: containerWidth }}\n      >\n        {/* Pointer */}\n        <div className=\"absolute top-0 left-1/2 -translate-x-1/2 z-30 pointer-events-none flex flex-col items-center\">\n          <div className=\"w-10 h-5 bg-[#DEDEE5] dark:bg-zinc-700 rounded-b-[10px] shadow-sm\" />\n          <div className=\"w-2 h-2 bg-[#DEDEE5] dark:bg-zinc-700 rounded-full mt-2\" />\n        </div>\n\n        {/* Side Fade */}\n        <div className=\"absolute inset-y-0 left-0 w-14 bg-gradient-to-r from-white dark:from-zinc-900 to-transparent z-20 pointer-events-none\" />\n        <div className=\"absolute inset-y-0 right-0 w-14 bg-gradient-to-l from-white dark:from-zinc-900 to-transparent z-20 pointer-events-none\" />\n\n        {/* Ruler */}\n        <motion.div\n          drag=\"x\"\n          dragConstraints={{\n            left: -(max * itemWidth),\n            right: -(min * itemWidth),\n          }}\n          dragElastic={0.1}\n          onDragEnd={snap}\n          style={{ x }}\n          className=\"h-full flex items-end cursor-grab active:cursor-grabbing\"\n        >\n          <div style={{ minWidth: centerOffset - itemWidth / 2 }} />\n\n          {numbers.map((num) => (\n            <RulerItem\n              key={num}\n              num={num}\n              x={x}\n              itemWidth={itemWidth}\n              centerOffset={centerOffset}\n            />\n          ))}\n\n          <div style={{ minWidth: centerOffset - itemWidth / 2 }} />\n        </motion.div>\n      </div>\n\n      {/* Reflection */}\n      <div className=\"absolute -bottom-4 left-1/2 -translate-x-1/2\n                      w-[80%] h-4 bg-black/5 dark:bg-black/40\n                      blur-xl rounded-full opacity-50\" />\n    </div>\n  );\n};\n",
      "type": "registry:ui",
      "target": "components/ui/fractional-picker.tsx"
    }
  ],
  "type": "registry:ui"
}