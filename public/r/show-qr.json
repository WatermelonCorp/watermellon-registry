{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "show-qr",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/show-qr.tsx",
      "content": "import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { QRCodeSVG } from 'qrcode.react';\nimport { X } from 'lucide-react';\nimport { HiQrCode } from 'react-icons/hi2';\nimport { ImLink } from \"react-icons/im\";\nimport { FaMoon, FaSun } from 'react-icons/fa6';\n\ninterface QRCodeWidgetProps {\n  value: string;\n  buttonLabel?: string;\n  onCopy?: () => void;\n}\n\nexport const ShowQR: React.FC<QRCodeWidgetProps> = ({\n  value,\n  buttonLabel = \"Show QR Code\",\n  onCopy,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isCopied, setIsCopied] = useState(false);\n  const [isDark, setIsDark] = useState(false);\n\n  useEffect(() => {\n    if (isCopied) {\n      const timeout = setTimeout(() => setIsCopied(false), 2000);\n      return () => clearTimeout(timeout);\n    }\n  }, [isCopied]);\n\n  const handleCopy = async (e: React.MouseEvent) => {\n    e.stopPropagation();\n    try {\n      await navigator.clipboard.writeText(value);\n      setIsCopied(true);\n      onCopy?.();\n    } catch (err) {\n      console.error(\"Failed to copy text: \", err);\n    }\n  };\n\n  const toggleOpen = () => setIsOpen(!isOpen);\n\n  return (\n    <div className={isDark ? 'invert hue-rotate-180' : ''}>\n      <div className=\"relative min-h-screen bg-white w-full flex flex-col items-center justify-center p-8 space-y-12\">\n\n        {/* Theme Toggle  */}\n        <button\n          onClick={() => setIsDark(!isDark)}\n          className=\"absolute top-6 right-6 w-11 h-11 rounded-full flex items-center justify-center border bg-white shadow-sm\"\n          title=\"Toggle theme\"\n        >\n          {isDark ? <FaSun /> : <FaMoon />}\n        </button>\n\n        <div className=\"relative flex items-center justify-center p-4\">\n          <AnimatePresence mode=\"popLayout\">\n            {!isOpen ? (\n              <motion.button\n                key=\"collapsed\"\n                layoutId=\"qr-container\"\n                onClick={toggleOpen}\n                className=\"flex items-center justify-center gap-2.5 px-6 py-4 bg-[#F6F5FA] hover:bg-[#ebeaee] text-[#18181B] rounded-[2rem] transition-colors duration-200 cursor-pointer shadow-sm tracking-tight\"\n                initial={{ opacity: 0, scale: 0.95 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.95 }}\n                transition={{\n                  layout: { duration: 0.4, type: \"spring\", bounce: 0.1 },\n                  opacity: { duration: 0.2 }\n                }}\n              >\n                <motion.div layoutId=\"qr-icon-container\" className=\"text-[#27272B]\">\n                  <HiQrCode size={34} />\n                </motion.div>\n                <motion.span layoutId=\"qr-label\" className=\"text-xl font-bold\">\n                  {buttonLabel}\n                </motion.span>\n              </motion.button>\n            ) : (\n              <motion.div\n                key=\"expanded\"\n                layoutId=\"qr-container\"\n                className=\"w-[360px] bg-[#F1F0F7] rounded-[2.7rem] p-4 flex flex-col items-center gap-3 overflow-hidden\"\n                transition={{\n                  layout: { duration: 0.4, type: \"spring\", bounce: 0.1 }\n                }}\n              >\n                <motion.div\n                  initial={{ opacity: 0, scale: 0.8, y: 10 }}\n                  animate={{ opacity: 1, scale: 1, y: 0 }}\n                  transition={{ delay: 0.1, duration: 0.3 }}\n                  className=\"bg-[#FEFEFE] p-6 rounded-[2.5rem] w-full aspect-square flex items-center justify-center border-2 border-[#EDECF3]\"\n                >\n                  <QRCodeSVG\n                    value={value}\n                    size={220}\n                    level=\"H\"\n                    fgColor=\"#030303\"\n                    className=\"w-full h-full\"\n                  />\n                </motion.div>\n\n                <div className=\"flex w-full gap-3 items-center\">\n                  <motion.button\n                    onClick={handleCopy}\n                    className=\"flex-1 bg-[#FEFEFE] hover:bg-gray-50 active:scale-[0.98] transition-all rounded-full py-4 px-6 flex items-center justify-center gap-2 shadow-sm border-2 border-[#EDECF3]\"\n                  >\n                    <AnimatePresence mode=\"wait\">\n                      <motion.div\n                        key={isCopied ? 'copied' : 'copy'}\n                        initial={{ y: 20, opacity: 0 }}\n                        animate={{ y: 0, opacity: 1 }}\n                        exit={{ y: -20, opacity: 0 }}\n                        transition={{ type: \"spring\", stiffness: 300, damping: 25 }}\n                        className=\"flex items-center gap-3 text-[#2F2F2F]\"\n                      >\n                        <ImLink size={24} />\n                        <span className=\"font-bold tracking-tight text-[20px]\">\n                          {isCopied ? 'Copied Link' : 'Copy Link'}\n                        </span>\n                      </motion.div>\n                    </AnimatePresence>\n                  </motion.button>\n\n                  <motion.button\n                    onClick={toggleOpen}\n                    className=\"bg-[#FEFEFE] hover:bg-gray-50 active:scale-90 transition-all rounded-full p-4 flex items-center justify-center shadow-sm border-2 border-[#EDECF3] text-[#2F2F2F]\"\n                  >\n                    <X size={24} strokeWidth={3} />\n                  </motion.button>\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      </div>\n    </div>\n  );\n};\n",
      "type": "registry:ui",
      "target": "components/ui/show-qr.tsx"
    }
  ],
  "type": "registry:ui"
}