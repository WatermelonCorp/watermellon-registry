{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "feedback-action",
  "dependencies": [
    "motion",
    "lucide-react",
    "react-icons"
  ],
  "files": [
    {
      "path": "src/components/ui/feedback-action.tsx",
      "content": "import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'motion/react';\nimport { LuCircleDotDashed } from 'react-icons/lu';\nimport { FaArrowRotateRight } from 'react-icons/fa6';\nimport { TbAlertOctagonFilled } from 'react-icons/tb';\nimport { Sun, Moon } from 'lucide-react'; // For the toggle button\n\ninterface InlineFeedbackProps {\n  errorMessage?: string;\n  loadingMessage?: string;\n  onRetry?: () => void;\n}\n\nexport const FeedbackAction: React.FC<InlineFeedbackProps> = ({\n  errorMessage = \"Sync Failed\",\n  loadingMessage = \"Syncing\",\n  onRetry\n}) => {\n  const [status, setStatus] = useState<'error' | 'loading'>('error');\n  const [darkMode, setDarkMode] = useState(false);\n\n  const handleRetry = () => {\n    setStatus('loading');\n    onRetry?.();\n  };\n\n  useEffect(() => {\n    if (status === 'loading') {\n      const timer = setTimeout(() => {\n        setStatus('error');\n      }, 3500);\n      return () => clearTimeout(timer);\n    }\n  }, [status]);\n\n  return (\n    <div className={`min-h-screen transition-colors duration-500 flex flex-col items-center justify-center p-4 ${darkMode ? 'bg-[#121214]' : 'bg-white'}`}>\n\n      {/* Theme Toggle Button */}\n      <button\n        onClick={() => setDarkMode(!darkMode)}\n        className={`mb-12 p-3 rounded-full transition-all ${darkMode ? 'bg-[#1C1C1E] text-yellow-400' : 'bg-[#F4F4F9] text-gray-600 shadow-sm'}`}\n      >\n        {darkMode ? <Sun size={20} /> : <Moon size={20} />}\n      </button>\n\n      <div className=\"flex items-center gap-3 h-14\">\n        {/* Status Container */}\n        <motion.div\n          layout\n          initial={false}\n          transition={{\n            layout: {\n              type: \"spring\",\n              stiffness: 260,\n              damping: 26,\n              mass: 0.9,\n            },\n          }}\n          className={`relative flex items-center h-[62px] rounded-full px-6 shadow-sm min-w-[160px] justify-center border-2 overflow-hidden transition-colors duration-300 ${status === 'error'\n              ? darkMode ? 'bg-[#2A1616] border-[#422020]' : 'bg-[#F4F4F4] border-[#eceaea]/20'\n              : darkMode ? 'bg-[#1C1C1E] border-[#2C2C2E]' : 'bg-[#F4F4F9] border-[#ebebef]/20'\n            }`}\n        >\n          <AnimatePresence mode=\"popLayout\">\n            {status === 'error' ? (\n              <motion.div\n                key=\"error\"\n                initial={{ opacity: 0, y: 8, filter: 'blur(8px)' }}\n                animate={{ opacity: 1, y: 0, filter: 'blur(0px)' }}\n                exit={{ opacity: 0, y: -8, filter: 'blur(8px)' }}\n                transition={{ type: \"spring\", stiffness: 300, damping: 24 }}\n                className=\"flex items-center gap-2\"\n              >\n                <TbAlertOctagonFilled size={28} className=\"text-[#FF332C]\" />\n                <span className={`font-bold text-xl tracking-tight ${darkMode ? 'text-[#FF453A]' : 'text-[#FF332C]'}`}>\n                  {errorMessage}\n                </span>\n              </motion.div>\n            ) : (\n              <motion.div\n                key=\"loading\"\n                initial={{ opacity: 0, y: 8, filter: 'blur(8px)' }}\n                animate={{ opacity: 1, y: 0, filter: 'blur(0px)' }}\n                exit={{ opacity: 0, y: -8, filter: 'blur(8px)' }}\n                transition={{ type: \"spring\", stiffness: 300, damping: 24 }}\n                className=\"relative flex items-center gap-2\"\n              >\n                <motion.div\n                  animate={{ rotate: 360 }}\n                  transition={{ repeat: Infinity, duration: 1.2, ease: \"linear\" }}\n                  className=\"relative flex items-center justify-center\"\n                >\n                  <motion.div\n                    className=\"absolute inset-0 rounded-full\"\n                    animate={{ opacity: [0.3, 0.7, 0.3] }}\n                    transition={{\n                      repeat: Infinity,\n                      duration: 1.4,\n                      ease: \"easeInOut\",\n                    }}\n                    style={{\n                      boxShadow: darkMode\n                        ? \"0 0 14px rgba(255,255,255,0.15)\"\n                        : \"0 0 12px rgba(181,180,188,0.9)\",\n                    }}\n                  />\n\n                  {/* Shining sweep */}\n                  <motion.div\n                    className=\"absolute inset-0 rounded-full\"\n                    animate={{ rotate: 360 }}\n                    transition={{\n                      repeat: Infinity,\n                      duration: 2,\n                      ease: \"linear\",\n                    }}\n                    style={{\n                      background:\n                        \"conic-gradient(from 0deg, transparent 60%, rgba(255,255,255,0.9), transparent)\",\n                      maskImage: \"radial-gradient(circle, transparent 55%, black 56%)\",\n                      WebkitMaskImage:\n                        \"radial-gradient(circle, transparent 55%, black 56%)\",\n                    }}\n                  />\n\n                  <LuCircleDotDashed\n                    size={28}\n                    strokeWidth={2.8}\n                    className={`relative transition-colors ${darkMode ? 'text-gray-400' : 'text-[#B5B4BC]'}`}\n                  />\n                </motion.div>\n\n                <span className={`font-bold text-xl transition-colors ${darkMode ? 'text-gray-200' : 'text-[#232328]'}`}>\n                  {loadingMessage}\n                </span>\n\n                {/* Text Shining Sweep */}\n                <motion.span\n                  className=\"absolute inset-0\"\n                  initial={{ x: '-150%' }}\n                  animate={{ x: '150%' }}\n                  transition={{\n                    repeat: Infinity,\n                    duration: 1.8,\n                    ease: \"linear\",\n                  }}\n                  style={{\n                    background: darkMode\n                      ? 'linear-gradient(120deg, transparent 30%, rgba(255,255,255,0.1), transparent 80%)'\n                      : 'linear-gradient(120deg, transparent 30%, rgba(255,255,255,0.35), transparent 80%)',\n                  }}\n                />\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </motion.div>\n\n        {/* Retry Button */}\n        <AnimatePresence>\n          {status === 'error' && (\n            <motion.button\n              initial={{ opacity: 0, scale: 0.85, x: -16 }}\n              animate={{ opacity: 1, scale: 1, x: 0 }}\n              exit={{ opacity: 0, scale: 0.85, x: -16 }}\n              transition={{ type: \"spring\", stiffness: 260, damping: 20 }}\n              whileHover={{ scale: 1.06 }}\n              whileTap={{ scale: 0.94 }}\n              onClick={handleRetry}\n              className={`w-14 h-14 overflow-hidden rounded-full shadow-lg flex items-center justify-center transition-colors ${darkMode ? 'bg-white text-black' : 'bg-black text-white'\n                }`}\n            >\n              <FaArrowRotateRight size={24} />\n            </motion.button>\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n};",
      "type": "registry:ui",
      "target": "components/ui/feedback-action.tsx"
    }
  ],
  "type": "registry:ui"
}