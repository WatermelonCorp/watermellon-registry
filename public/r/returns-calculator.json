{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "returns-calculator",
  "dependencies": [
    "lucide-react",
    "motion"
  ],
  "files": [
    {
      "path": "src/components/ui/returns-calculator.tsx",
      "content": "\"use client\";\n\nimport { useState, useMemo, useEffect, type FC, type ChangeEvent } from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { Sun, Moon } from \"lucide-react\";\n\n/* --- Types --- */\ninterface SliderProps {\n  value: number;\n  min: number;\n  max: number;\n  onChange: (val: number) => void;\n}\n\ninterface DonutProps {\n  invested: number;\n  returns: number;\n}\n\nexport interface ReturnsCalculatorProps {\n  initialMonthly?: number;\n  initialRate?: number;\n  initialYears?: number;\n  monthlyRange?: { min: number; max: number };\n  rateRange?: { min: number; max: number };\n  yearsRange?: { min: number; max: number };\n}\n\n/* --- Utils --- */\nconst formatINR = (n: number): string => \"â‚¹\" + n.toLocaleString(\"en-IN\");\n\n/* --- Internal Components (Styling Intact) --- */\nconst AnimatedValue: FC<{ value: number }> = ({ value }) => (\n  <AnimatePresence mode=\"popLayout\">\n    <motion.span\n      key={value}\n      initial={{ y: 16, opacity: 0, filter: \"blur(6px)\" }}\n      animate={{ y: 0, opacity: 1, filter: \"blur(0px)\" }}\n      exit={{ y: -16, opacity: 0, filter: \"blur(6px)\" }}\n      transition={{ type: \"spring\", stiffness: 300, damping: 26 }}\n      className=\"block font-semibold text-[#2B2B2B] dark:text-zinc-100 text-[18px]\"\n    >\n      {formatINR(value)}\n    </motion.span>\n  </AnimatePresence>\n);\n\nconst Slider: FC<SliderProps> = ({ value, min, max, onChange }) => {\n  const percent = ((value - min) / (max - min)) * 100;\n  return (\n    <div className=\"relative h-14 border-[1.6px] border-t-0 border-[#E5E5E9] dark:border-zinc-800 bg-white dark:bg-zinc-900 rounded-full px-4\">\n      <div className=\"absolute inset-y-1/2 h-1 bg-gray-200 dark:bg-zinc-700 rounded-full w-[90%] -translate-y-1/2\" />\n      <motion.div\n        className=\"absolute inset-y-1/2 h-1 bg-black dark:bg-zinc-100 rounded-full -translate-y-1/2\"\n        style={{ width: `${percent}%` }}\n        layout\n      />\n      <motion.div\n        className=\"absolute top-1/2 -translate-y-1/2 w-7 h-7 bg-white dark:bg-zinc-100 rounded-full border border-gray-200 dark:border-zinc-400 shadow-xl\"\n        style={{ left: `calc(${percent}% - 12px)` }}\n        transition={{ type: \"spring\", stiffness: 400, damping: 30 }}\n      />\n      <input\n        title=\"range\"\n        type=\"range\"\n        min={min}\n        max={max}\n        value={value}\n        onChange={(e: ChangeEvent<HTMLInputElement>) => onChange(+e.target.value)}\n        className=\"absolute inset-0 opacity-0 cursor-pointer\"\n      />\n    </div>\n  );\n};\n\nconst Donut: FC<DonutProps> = ({ invested, returns }) => {\n  const total = invested + returns;\n  const percent = total === 0 ? 0 : (returns / total) * 100;\n  return (\n    <svg width=\"160\" height=\"160\" viewBox=\"0 0 140 140\">\n      <circle cx=\"70\" cy=\"70\" r=\"54\" fill=\"none\" stroke=\"#D4D3DE\" className=\"dark:stroke-zinc-800\" strokeWidth=\"12\" />\n      <motion.circle\n        cx=\"70\" cy=\"70\" r=\"54\" fill=\"none\" stroke=\"#515158\" className=\"dark:stroke-zinc-400\" strokeWidth=\"12\"\n        strokeDasharray={339}\n        strokeDashoffset={339 - (339 * percent) / 100}\n        strokeLinecap=\"round\"\n        animate={{ strokeDashoffset: 339 - (339 * percent) / 100 }}\n        transition={{ type: \"spring\", stiffness: 120, damping: 18 }}\n      />\n    </svg>\n  );\n};\n\n/* --- MAIN REUSABLE COMPONENT --- */\nexport const ReturnsCalculator: FC<ReturnsCalculatorProps> = ({\n  initialMonthly = 40000,\n  initialRate = 6,\n  initialYears = 15,\n  monthlyRange = { min: 5000, max: 100000 },\n  rateRange = { min: 1, max: 15 },\n  yearsRange = { min: 1, max: 30 },\n}) => {\n  const [monthly, setMonthly] = useState(initialMonthly);\n  const [rate, setRate] = useState(initialRate);\n  const [years, setYears] = useState(initialYears);\n  const [isDark, setIsDark] = useState(false);\n\n  useEffect(() => {\n    if (isDark) document.documentElement.classList.add(\"dark\");\n    else document.documentElement.classList.remove(\"dark\");\n  }, [isDark]);\n\n  const invested = monthly * 12 * years;\n  const returns = useMemo(() => {\n    const r = rate / 100 / 12;\n    const n = years * 12;\n    if (r === 0) return 0;\n    return Math.round(monthly * ((Math.pow(1 + r, n) - 1) / r) - invested);\n  }, [monthly, rate, years, invested]);\n\n  return (\n    <div className=\"flex flex-col items-center gap-6\">\n      {/* Theme Toggle Inside Component */}\n      <button\n        onClick={() => setIsDark(!isDark)}\n        className=\"p-3 rounded-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 shadow-sm active:scale-90 transition-all\"\n      >\n        {isDark ? <Sun className=\"text-yellow-400\" size={20} /> : <Moon className=\"text-zinc-500\" size={20} />}\n      </button>\n\n      <div className=\"w-[456px] bg-[#FEFEFE] dark:bg-zinc-900 rounded-[38px] p-[24px] border-[1.6px] border-[#FEFEFEEE] dark:border-zinc-800 space-y-[24px] shadow-sm\">\n        <div className=\"flex gap-[16px] items-center\">\n          <Donut invested={invested} returns={returns} />\n          <div className=\"space-y-[16px] text-sm\">\n            <div className=\"flex gap-[12px] items-start justify-start\">\n              <span className=\"w-[16px] h-[16px] rounded-full bg-[#D4D3DE] dark:bg-zinc-800 mt-[4px]\" />\n              <div className=\"flex flex-col gap-[4px]\">\n                <p className=\"text-[#838385] dark:text-zinc-500 text-[16px] font-medium\">Invested Amount</p>\n                <AnimatedValue value={invested} />\n              </div>\n            </div>\n            <div className=\"flex gap-[12px] items-start justify-start\">\n              <span className=\"w-[16px] h-[16px] rounded-full bg-[#515158] dark:bg-zinc-400 mt-[4px]\" />\n              <div className=\"flex flex-col gap-[4px]\">\n                <p className=\"text-[#838385] dark:text-zinc-500 text-[16px] font-medium\">Total Returns</p>\n                <AnimatedValue value={returns} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"space-y-[18px]\">\n          <div className=\"bg-[#F4F4FB] dark:bg-zinc-800/50 rounded-[28px] border-[1.6px] border-[#E5E5E9] dark:border-[#E5E5E9]/20 pb-[4px] flex flex-col gap-[12px]\">\n            <Slider min={monthlyRange.min} max={monthlyRange.max} value={monthly} onChange={setMonthly} />\n            <div className=\"flex justify-between px-[16px] mb-[8px] text-sm\">\n              <span className=\"text-[#717077] dark:text-zinc-400 font-semibold text-[14px]\">Monthly Investment</span>\n              <span className=\"text-[#7A7980] dark:text-zinc-500 font-medium text-[14px]\">{formatINR(monthly)}</span>\n            </div>\n          </div>\n\n          <div className=\"bg-[#F4F4FB] dark:bg-zinc-800/50 rounded-[28px] border-[1.6px] border-[#E5E5E9] dark:border-[#E5E5E9]/20 pb-[4px] flex flex-col gap-[12px]\">\n            <Slider min={rateRange.min} max={rateRange.max} value={rate} onChange={setRate} />\n            <div className=\"flex justify-between px-[16px] pb-[12px]\">\n              <span className=\"text-[#717077] dark:text-zinc-400 font-semibold text-[14px]\">Expected Returns</span>\n              <span className=\"text-[#7A7980] dark:text-zinc-500 font-medium text-[14px]\">{rate}%</span>\n            </div>\n          </div>\n\n          <div className=\"bg-[#F4F4FB] dark:bg-zinc-800/50 rounded-[28px] border-[1.6px] border-[#E5E5E9] dark:border-[#E5E5E9]/20 pb-[4px] flex flex-col gap-[12px]\">\n            <Slider min={yearsRange.min} max={yearsRange.max} value={years} onChange={setYears} />\n            <div className=\"flex justify-between px-[16px] pb-[12px]\">\n              <span className=\"text-[#717077] dark:text-zinc-400 font-semibold text-[14px]\">Time Period</span>\n              <span className=\"text-[#7A7980] dark:text-zinc-500 font-medium text-[14px]\">{years} years</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};",
      "type": "registry:ui",
      "target": "components/ui/returns-calculator.tsx"
    }
  ],
  "type": "registry:ui"
}