{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "share-sheet",
  "dependencies": [
    "motion",
    "react-icons"
  ],
  "files": [
    {
      "path": "src/components/ui/share-sheet.tsx",
      "content": "import { useState } from 'react';\nimport { motion, AnimatePresence, LayoutGroup } from 'motion/react';\nimport { FiShare, FiSun, FiMoon } from 'react-icons/fi';\n\ninterface User {\n    id: string;\n    name: string;\n    avatar: string;\n}\n\ninterface ShareSheetProps {\n    users: User[];\n    onShareComplete?: (user: User) => void;\n}\n\nconst shapeTransition = {\n    type: \"spring\",\n    stiffness: 400,\n    damping: 30,\n    mass: 0.8\n} as const;\n\nexport const ShareSheet = ({ users, onShareComplete }: ShareSheetProps) => {\n    const [status, setStatus] = useState<'idle' | 'open' | 'sending' | 'success'>('idle');\n    const [selectedUser, setSelectedUser] = useState<User | null>(null);\n    const [hoveredId, setHoveredId] = useState<string | null>(null);\n    const [isDark, setIsDark] = useState(false);\n\n    const handleSelectUser = (user: User) => {\n        setSelectedUser(user);\n        setStatus('sending');\n\n        setTimeout(() => {\n            setStatus('success');\n            setTimeout(() => {\n                setStatus('idle');\n                setSelectedUser(null);\n                onShareComplete?.(user);\n            }, 1200);\n        }, 1800);\n    };\n\n    return (\n        <div className={`min-h-screen w-full flex flex-col items-center justify-center gap-8 transition-colors duration-500 ${isDark ? 'bg-[#0D0D0E]' : 'bg-white'}`}>\n            \n            {/* Theme Toggle */}\n            <button \n                onClick={() => setIsDark(!isDark)}\n                className={`p-3 rounded-full transition-all active:scale-95 border ${\n                    isDark ? 'bg-[#1C1C1E] border-white/10 text-yellow-400' : 'bg-white border-black/5 text-gray-400 shadow-sm'\n                }`}\n            >\n                {isDark ? <FiSun size={20} /> : <FiMoon size={20} />}\n            </button>\n\n            <div className=\"relative flex items-center justify-center\">\n                <LayoutGroup>\n                    <AnimatePresence mode=\"popLayout\">\n                        {status === 'idle' && (\n                            <motion.button\n                                layoutId=\"sheet-container\"\n                                onClick={() => setStatus('open')}\n                                className={`w-14 h-14 flex items-center justify-center rounded-[17px] shadow-xs ${\n                                    isDark ? 'bg-[#F0EFF6] text-[#29292B]' : 'bg-[#29292B] text-white'\n                                }`}\n                                initial={{ opacity: 0, scale: 0.8 }}\n                                animate={{ opacity: 1, scale: 1 }}\n                                exit={{ opacity: 0, scale: 0.8 }}\n                                transition={{ type: \"spring\", stiffness: 400, damping: 25 }}\n                            >\n                                <FiShare size={28} strokeWidth={2} />\n                            </motion.button>\n                        )}\n\n                        {status === 'open' && (\n                            <motion.div\n                                layoutId=\"sheet-container\"\n                                className={`w-[340px] rounded-[38px] p-3 py-5 shadow-xl relative transition-colors duration-300 ${\n                                    isDark ? 'bg-[#1C1C1E]' : 'bg-[#F0EFF6]'\n                                }`}\n                                initial={{ opacity: 0, y: 20 }}\n                                animate={{ opacity: 1, y: 0 }}\n                                exit={{ opacity: 0, scale: 0.9 }}\n                                transition={shapeTransition}\n                            >\n                                <div className=\"flex flex-col gap-1.5 relative\">\n                                    {users.map((user) => (\n                                        <motion.div\n                                            key={user.id}\n                                            onHoverStart={() => setHoveredId(user.id)}\n                                            onHoverEnd={() => setHoveredId(null)}\n                                            onClick={() => handleSelectUser(user)}\n                                            className=\"group relative flex items-center gap-5 p-2 z-10 cursor-pointer\"\n                                        >\n                                            {hoveredId === user.id && (\n                                                <motion.div\n                                                    layoutId=\"hover-bg\"\n                                                    className={`absolute -left-6 -right-6 inset-y-0 border-[1px] rounded-[14px] shadow-md -z-10 ${\n                                                        isDark ? 'bg-[#2C2C2E] border-white/5' : 'bg-[#fefefe] border-[#EAEAEA]'\n                                                    }`}\n                                                    transition={shapeTransition}\n                                                />\n                                            )}\n\n                                            <motion.div\n                                                className=\"relative w-11 h-11 overflow-hidden\"\n                                                animate={{\n                                                    borderRadius: hoveredId === user.id ? \"12px\" : \"28px\"\n                                                }}\n                                                transition={shapeTransition}\n                                                style={{ willChange: \"border-radius\" }}\n                                            >\n                                                <motion.img\n                                                    layoutId={selectedUser?.id === user.id ? \"avatar-morph\" : `img-${user.id}`}\n                                                    src={user.avatar}\n                                                    className=\"w-full h-full object-cover\"\n                                                />\n                                            </motion.div>\n\n                                            <span className={`font-medium text-[18px] tracking-tight transition-colors ${\n                                                isDark ? 'text-white/90' : 'text-[#28282D]'\n                                            }`}>\n                                                {user.name}\n                                            </span>\n                                        </motion.div>\n                                    ))}\n                                </div>\n                            </motion.div>\n                        )}\n\n                        {(status === 'sending' || status === 'success') && (\n                            <motion.div\n                                layoutId=\"sheet-container\"\n                                className={`w-14 h-14 rounded-[17px] shadow-sm flex items-center justify-center transition-colors ${\n                                    isDark ? 'bg-[#F0EFF6] text-[#29292B]' : 'bg-[#29292B] text-[#fefefe]'\n                                }`}\n                                transition={{ type: \"spring\", stiffness: 400, damping: 25 }}\n                            >\n                                <div className=\"relative w-full h-full p-2 flex items-center justify-center\">\n                                    {/* Progress Ring */}\n                                    <svg className=\"absolute inset-0 w-full h-full -rotate-90 scale-[1.1] pointer-events-none\">\n                                        <circle\n                                            cx=\"28\" cy=\"28\" r=\"22\"\n                                            stroke={isDark ? \"rgba(0,0,0,0.05)\" : \"rgba(255,255,255,0.1)\"}\n                                            strokeWidth=\"3\" fill=\"transparent\"\n                                        />\n                                        <motion.circle\n                                            cx=\"28\" cy=\"28\" r=\"22\"\n                                            stroke={isDark ? \"#29292B\" : \"#D9D9D9\"}\n                                            strokeWidth=\"3\" fill=\"transparent\" strokeDasharray=\"138\"\n                                            initial={{ strokeDashoffset: 138 }}\n                                            animate={{ strokeDashoffset: status === 'success' ? 0 : 40 }}\n                                            transition={{ duration: 1.8, ease: \"easeInOut\" }}\n                                        />\n                                    </svg>\n\n                                    <div className=\"relative w-9 h-9 flex items-center justify-center\">\n                                        <AnimatePresence mode=\"popLayout\">\n                                            {status === 'sending' ? (\n                                                <motion.img\n                                                    key=\"sending-avatar\"\n                                                    layoutId=\"avatar-morph\"\n                                                    src={selectedUser?.avatar}\n                                                    className=\"w-full h-full rounded-full object-cover\"\n                                                    exit={{ opacity: 0, scale: 0.5, filter: \"blur(5px)\" }}\n                                                />\n                                            ) : (\n                                                <motion.div\n                                                    key=\"success-check\"\n                                                    initial={{ scale: 0, opacity: 0, rotate: -45 }}\n                                                    animate={{ scale: 1, opacity: 1, rotate: 0 }}\n                                                    className={`w-full h-full flex items-center justify-center ${\n                                                        isDark ? 'text-[#29292B]' : 'text-[#D9D9D9]'\n                                                    }`}\n                                                >\n                                                    <svg width=\"26\" height=\"26\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"4\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                        <polyline points=\"20 6 9 17 4 12\" />\n                                                    </svg>\n                                                </motion.div>\n                                            )}\n                                        </AnimatePresence>\n                                    </div>\n                                </div>\n                            </motion.div>\n                        )}\n                    </AnimatePresence>\n                </LayoutGroup>\n            </div>\n        </div>\n    );\n};",
      "type": "registry:ui",
      "target": "components/ui/share-sheet.tsx"
    }
  ],
  "type": "registry:ui"
}