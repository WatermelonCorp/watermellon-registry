{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "contextual-ai-bar",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/contextual-ai-bar.tsx",
      "content": "\"use client\";\n\nimport React, { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { ArrowRight } from \"lucide-react\";\n\nexport interface ContextualAIBarProps {\n  defaultExpanded?: boolean;\n  placeholder?: string;\n  tools?: React.ReactNode[];\n  musicIcon: React.ReactNode;\n  sparkleIcon: React.ReactNode;\n}\n\nexport const ContextualAIBar: React.FC<ContextualAIBarProps> = ({\n  defaultExpanded = false,\n  placeholder = \"Refine with AI\",\n  tools = [],\n  musicIcon,\n  sparkleIcon,\n}) => {\n  const [isExpanded, setIsExpanded] = useState(defaultExpanded);\n\n  const spring = {\n    type: \"spring\",\n    stiffness: 220,\n    damping: 28,\n    mass: 1.2,\n  } as const;\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-[#fcfcfc]\">\n      <motion.div\n        layout\n        transition={spring}\n        className=\"\n          flex items-center\n          bg-[#f4f4f5]/60\n          border border-[#e8e8e9]/30\n          p-1 rounded-full\n          shadow-sm\n          overflow-hidden\n        \"\n      >\n        {/*  Toggle  */}\n        <motion.div\n          layout\n          transition={spring}\n          className=\"relative flex items-center bg-white shadow-md rounded-full p-1\"\n        >\n          {/* Music */}\n          <motion.button\n            layout\n            onClick={() => setIsExpanded(false)}\n            whileTap={{ scale: 0.9 }}\n            className=\"relative p-2.5 rounded-full outline-none shadow-sm\"\n          >\n            {!isExpanded && (\n              <motion.div\n                layoutId=\"active-pill\"\n                transition={spring}\n                className=\"absolute inset-0 rounded-full bg-[#F6F6F6] shadow-sm\"\n              />\n            )}\n\n            <motion.div\n              className=\"relative z-10\"\n              animate={{ opacity: !isExpanded ? 1 : 0.45 }}\n              transition={spring}\n            >\n              {musicIcon}\n            </motion.div>\n          </motion.button>\n\n          {/* Sparkles */}\n          <motion.button\n            layout\n            onClick={() => setIsExpanded(true)}\n            whileTap={{ scale: 0.9 }}\n            className=\"relative p-2.5 rounded-full outline-none shadow-sm\"\n          >\n            {isExpanded && (\n              <motion.div\n                layoutId=\"active-pill\"\n                transition={spring}\n                className=\"absolute inset-0 rounded-full bg-[#F6F6F6] shadow-sm\"\n              />\n            )}\n\n            <motion.div\n              className=\"relative z-10\"\n              animate={{ opacity: isExpanded ? 1 : 0.45 }}\n              transition={spring}\n            >\n              {sparkleIcon}\n            </motion.div>\n          </motion.button>\n        </motion.div>\n\n        {/*  Content  */}\n        <AnimatePresence mode=\"popLayout\" initial={false}>\n          {!isExpanded ? (\n            <motion.div\n              key=\"tools\"\n              initial={{ opacity: 0, x: -22 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: -22 }}\n              transition={spring}\n              className=\"flex items-center px-4 gap-5\"\n            >\n              {tools.map((tool, index) => (\n                <ToolIcon key={index}>{tool}</ToolIcon>\n              ))}\n            </motion.div>\n          ) : (\n            <motion.div\n              key=\"input\"\n              initial={{ opacity: 0, x: 22 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: 22 }}\n              transition={spring}\n              className=\"flex items-center pl-4 pr-1\"\n            >\n              <input\n                autoFocus\n                type=\"text\"\n                placeholder={placeholder}\n                className=\"\n                  bg-transparent\n                  border-none\n                  outline-none\n                  text-xl\n                  text-gray-800\n                  placeholder-gray-400\n                  w-[180px]\n                \"\n              />\n\n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.92 }}\n                transition={spring}\n                className=\"\n                  p-3\n                  bg-[#fcfcfc] shadow-md\n                  border border-gray-100\n                  rounded-full\n                  hover:bg-gray-50\n                  text-black\n                \"\n              >\n                <ArrowRight size={22} strokeWidth={2.5} />\n              </motion.button>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </motion.div>\n    </div>\n  );\n};\n\n/*  Helpers  */\n\nconst ToolIcon = ({ children }: { children: React.ReactNode }) => (\n  <motion.div\n    whileHover={{ scale: 1.05 }}\n    whileTap={{ scale: 0.92 }}\n    transition={{\n      type: \"spring\",\n      stiffness: 300,\n      damping: 26,\n      mass: 1.1,\n    }}\n    className=\"text-[#040404] cursor-pointer\"\n  >\n    {children}\n  </motion.div>\n);\n\n",
      "type": "registry:ui",
      "target": "components/ui/contextual-ai-bar.tsx"
    }
  ],
  "type": "registry:ui"
}