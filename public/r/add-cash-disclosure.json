{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "add-cash-disclosure",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/add-cash-disclosure.tsx",
      "content": "import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Plus, X, Wallet, Check, Sun, Moon } from 'lucide-react';\nimport { MdOutlineAddCard } from 'react-icons/md';\n\nexport interface PaymentCard {\n    id: string;\n    last4: string;\n    brand: 'VISA' | 'MASTERCARD';\n    isDefault?: boolean;\n    hasToggle?: boolean;\n}\n\nexport interface CashDisclosureProps {\n    initialBalance: number;\n    cards: PaymentCard[];\n    presets: number[];\n    onConfirm: (amount: number) => Promise<void>;\n}\n\nexport const AddCashDisclosure: React.FC<CashDisclosureProps> = ({\n    initialBalance,\n    cards,\n    presets,\n    onConfirm,\n}) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [isDark, setIsDark] = useState(false); \n    const [selectedCard, setSelectedCard] = useState<string>(cards[0]?.id || '');\n    const [selectedAmount, setSelectedAmount] = useState<number>(presets[1]);\n    const [isProcessing, setIsProcessing] = useState(false);\n    const [isDone, setIsDone] = useState(false);\n    const [displayBalance, setDisplayBalance] = useState(initialBalance);\n\n    useEffect(() => {\n        if (!isProcessing && !isDone) {\n            setDisplayBalance(initialBalance);\n        }\n    }, [initialBalance, isProcessing, isDone]);\n\n    const handleOpen = () => setIsOpen(true);\n    const handleClose = () => {\n        setIsOpen(false);\n        setIsProcessing(false);\n        setIsDone(false);\n    };\n\n    const handleConfirm = async () => {\n        setIsProcessing(true);\n        await onConfirm(selectedAmount);\n        setIsDone(true);\n        setTimeout(() => {\n            handleClose();\n        }, 1500);\n    };\n\n    const formatCurrency = (val: number) => {\n        return new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'USD',\n        }).format(val);\n    };\n\n    return (\n        <div className={`min-h-screen w-full flex flex-col items-center justify-center transition-colors duration-500 p-4 ${isDark ? 'bg-[#0A0A0A]' : 'bg-white'}`}>\n            \n            {/* Theme Toggle Button */}\n            <button \n                onClick={() => setIsDark(!isDark)}\n                className={`mb-8 p-3 rounded-full transition-all active:scale-95 border ${\n                    isDark ? 'bg-[#1C1C1E] border-white/10 text-yellow-400' : 'bg-white border-black/5 text-gray-400 shadow-sm'\n                }`}\n            >\n                {isDark ? <Sun size={20} /> : <Moon size={20} />}\n            </button>\n\n            <motion.div\n                layout\n                transition={{ type: 'spring', stiffness: 350, damping: 30 }}\n                className={`relative overflow-hidden transition-colors duration-300 border-2 shadow-sm ${\n                    isDark ? 'bg-[#1C1C1E] border-white/5' : 'bg-white border-[#ECECEC]'\n                } ${isOpen ? 'w-[400px] rounded-[32px] p-0 py-3' : 'w-[400px] rounded-2xl p-3'}`}\n            >\n                <AnimatePresence mode=\"popLayout\">\n                    {!isOpen ? (\n                        <motion.div\n                            key=\"collapsed\"\n                            initial={{ opacity: 0 }}\n                            animate={{ opacity: 1 }}\n                            exit={{ opacity: 0 }}\n                            className=\"flex items-center justify-between\"\n                        >\n                            <div className=\"flex items-center gap-3\">\n                                <div className={`w-14 h-14 rounded-xl flex items-center justify-center border-[1.5px] shadow-sm transition-colors ${\n                                    isDark ? 'bg-gradient-to-b from-[#2A2A2D] to-[#1C1C1E] border-white/10' : 'bg-gradient-to-b from-[#F4F4F4] to-[#E2E3EA]/50 border-[#ECECEC]'\n                                }`}>\n                                    <Wallet className={`w-9 h-9 ${isDark ? 'text-[#4A4A4D]' : 'text-[#D1D0D7]'}`} fill={isDark ? '#2A2A2D' : 'white'} strokeWidth={1.5} />\n                                </div>\n                                <div className=\"flex flex-col\">\n                                    <span className=\"text-base font-normal text-gray-400 capitalize tracking-wider\">Wallet</span>\n                                    <span className={`text-[22px] font-semibold font-sans transition-colors ${isDark ? 'text-white' : 'text-[#010103]'}`}>\n                                        {formatCurrency(displayBalance)}\n                                    </span>\n                                </div>\n                            </div>\n                            <button\n                                onClick={handleOpen}\n                                className={`flex items-center gap-1.5 px-4 py-2.5 rounded-full text-base font-semibold transition-colors ${\n                                    isDark ? 'bg-white text-black hover:bg-gray-200' : 'bg-[#262629] text-[#fefefe] hover:bg-[#3d3d42]'\n                                }`}\n                            >\n                                <Plus className=\"w-4 h-4\" strokeWidth={3} />\n                                Add Cash\n                            </button>\n                        </motion.div>\n                    ) : (\n                        <motion.div\n                            key=\"expanded\"\n                            initial={{ opacity: 0 }}\n                            animate={{ opacity: 1 }}\n                            exit={{ opacity: 0 }}\n                            className=\"flex flex-col \"\n                        >\n                            {/* Header */}\n                            <div className=\"flex items-center justify-between px-6\">\n                                <div className=\"flex items-center gap-3\">\n                                    <div className={`w-14 h-14 rounded-xl flex items-center justify-center border-[1.5px] shadow-sm transition-colors ${\n                                        isDark ? 'bg-[#2A2A2D] border-white/10' : 'bg-gradient-to-b from-[#F4F4F4] to-[#E2E3EA]/50 border-[#ECECEC]'\n                                    }`}>\n                                        <Wallet className={`w-9 h-9 ${isDark ? 'text-[#4A4A4D]' : 'text-[#D1D0D7]'}`} fill={isDark ? '#2A2A2D' : 'white'} strokeWidth={1.5} />\n                                    </div>\n                                    <div className=\"flex flex-col\">\n                                        <span className=\"text-xs font-medium text-[#9C9BA2]\">Wallet</span>\n                                        <span className={`text-lg font-semibold transition-colors ${isDark ? 'text-white' : 'text-[#010101]'}`}>\n                                            {formatCurrency(displayBalance)}\n                                        </span>\n                                    </div>\n                                </div>\n                                <button title='close'\n                                    onClick={handleClose}\n                                    className={`w-8 h-8 mb-6 rounded-full flex items-center justify-center transition-colors ${\n                                        isDark ? 'bg-white/10 text-gray-400 hover:text-white' : 'bg-[#F0EFF8] text-[#ACABB7] hover:text-[#a09fab]'\n                                    }`}\n                                >\n                                    <X className=\"w-5 h-5 \" strokeWidth={3} />\n                                </button>\n                            </div>\n                            <span className={`h-[1.5px] w-full mt-2 transition-colors ${isDark ? 'bg-white/5' : 'bg-[#ECECEC]'}`}></span>\n\n                            {/* Payment Mode */}\n                            <div className=\"flex flex-col gap-3 px-6 mt-6\">\n                                <div className=\"flex items-center justify-between\">\n                                    <span className=\"text-base font-medium text-[#848488]\">Payment Mode</span>\n                                    <button className={`flex items-center gap-1.5 px-3 py-1 rounded-2xl text-sm font-semibold border-[1.5px] transition-colors ${\n                                        isDark ? 'bg-white/5 text-white border-white/10 hover:bg-white/10' : 'bg-gray-50 text-[#000000] border-[#E8E8EE] hover:bg-gray-100'\n                                    }`}>\n                                        <MdOutlineAddCard className=\"w-5 h-5\" />\n                                        Add Card\n                                    </button>\n                                </div>\n\n                                <div className=\"space-y-3\">\n                                    {cards.map((card) => (\n                                        <div\n                                            key={card.id}\n                                            onClick={() => setSelectedCard(card.id)}\n                                            className={`flex items-center justify-between p-4 rounded-xl border-[1.5px] transition-all cursor-pointer ${\n                                                selectedCard === card.id \n                                                    ? (isDark ? 'border-white ring-1 ring-white bg-white/5' : 'border-[#010103] ring-1 ring-[#010103]') \n                                                    : (isDark ? 'border-white/5 bg-white/[0.02] hover:border-white/20' : 'border-[#ECECEC] bg-[#F6F5FA] hover:border-gray-200')\n                                            }`}\n                                        >\n                                            <div className=\"flex items-center gap-3\">\n                                                <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${\n                                                    selectedCard === card.id ? (isDark ? 'border-white' : 'border-[#010103]') : (isDark ? 'border-white/10' : 'border-[#ECECEC]')\n                                                }`}>\n                                                    {selectedCard === card.id && (\n                                                        <div className={`w-2.5 h-2.5 rounded-full ${isDark ? 'bg-white' : 'bg-[#010103]'}`} />\n                                                    )}\n                                                </div>\n                                                <span className={`text-sm font-medium transition-colors ${isDark ? 'text-gray-200' : 'text-gray-900'}`}>\n                                                    <span className={`mr-2 ${isDark ? 'text-gray-500' : 'text-[#000000]'}`}>••••</span>\n                                                    {card.last4}\n                                                </span>\n                                            </div>\n                                            <span className={`text-[12px] font-extrabold italic transition-colors ${isDark ? 'text-gray-400' : 'text-[#000000]'}`}>\n                                                {card.brand}\n                                            </span>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n\n                            {/* Cash presets */}\n                            <div className=\"flex flex-col gap-3 px-6 my-4\">\n                                <span className=\"text-base font-medium text-[#808083]\">Cash</span>\n                                <div className=\"flex gap-2\">\n                                    {presets.map((amount) => (\n                                        <button\n                                            key={amount}\n                                            onClick={() => setSelectedAmount(amount)}\n                                            className={`flex-1 py-2.5 rounded-lg border-[1.5px] text-sm font-semibold transition-all ${\n                                                selectedAmount === amount\n                                                    ? (isDark ? 'border-white bg-white text-black' : 'border-[#000000] bg-[#fefefe] ring-1 ring-[#000000] text-[#000000]')\n                                                    : (isDark ? 'border-white/10 bg-white/5 text-gray-400 hover:border-white/20' : 'border-[#ECECEC] bg-[#F6F5FA] text-[#000000] hover:border-[#dedbdb]')\n                                            }`}\n                                        >\n                                            ${amount}\n                                        </button>\n                                    ))}\n                                </div>\n                            </div>\n\n                            {/* Action Button */}\n                            <button\n                                onClick={handleConfirm}\n                                disabled={isProcessing || isDone}\n                                className={`relative w-[140px] py-3 my-2 ml-6 rounded-full font-semibold transition-all flex items-center justify-center overflow-hidden ${\n                                    isDone \n                                        ? (isDark ? 'bg-white text-black' : 'bg-[#262629] text-white')\n                                        : isProcessing \n                                            ? 'bg-gray-500 text-white cursor-default' \n                                            : (isDark ? 'bg-white text-black hover:bg-gray-200' : 'bg-[#262629] text-white hover:bg-[#36363a]')\n                                }`}\n                            >\n                                <AnimatePresence mode=\"wait\">\n                                    {isDone ? (\n                                        <motion.div\n                                            key=\"done\"\n                                            initial={{ scale: 0.8, opacity: 0 }}\n                                            animate={{ scale: 1, opacity: 1 }}\n                                            className=\"flex items-center gap-2 \"\n                                        >\n                                            <div className={`w-5 h-5 rounded-full flex items-center justify-center ${isDark ? 'bg-black' : 'bg-white'}`}>\n                                                <Check className={`w-4 h-4 ${isDark ? 'text-white' : 'text-[#262629]'}`} strokeWidth={4} />\n                                            </div>\n                                            <span>Done</span>\n                                        </motion.div>\n                                    ) : isProcessing ? (\n                                        <motion.div\n                                            key=\"processing\"\n                                            className={`absolute inset-0 flex items-center transition-colors ${isDark ? 'bg-gray-800' : 'bg-[#AFAEB8]'}`}\n                                        >\n                                            <motion.div\n                                                className={`h-full transition-colors ${isDark ? 'bg-white' : 'bg-[#FEFEFE]'}`}\n                                                initial={{ width: '0%' }}\n                                                animate={{ width: '100%' }}\n                                                transition={{ duration: 1.5, ease: \"easeInOut\" }}\n                                            />\n                                        </motion.div>\n                                    ) : (\n                                        <motion.div\n                                            key=\"idle\"\n                                            initial={{ opacity: 0 }}\n                                            animate={{ opacity: 1 }}\n                                            className=\"flex items-center gap-2\"\n                                        >\n                                            <Plus className=\"w-4 h-4\" strokeWidth={3} />\n                                            <span className='text-[14px]'>Add Cash</span>\n                                        </motion.div>\n                                    )}\n                                </AnimatePresence>\n                            </button>\n                        </motion.div>\n                    )}\n                </AnimatePresence>\n            </motion.div>\n        </div>\n    );\n};",
      "type": "registry:ui",
      "target": "components/ui/add-cash-disclosure.tsx"
    }
  ],
  "type": "registry:ui"
}