{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "radial-carousel",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/radial-carousel.tsx",
      "content": "import React, { useState, useCallback } from 'react';\nimport { motion, AnimatePresence, type Variants, useMotionValue, useSpring, useTransform } from 'motion/react';\nimport { X, Sun, Moon } from 'lucide-react';\n\nexport interface GalleryItem {\n  id: string | number;\n  url: string;\n  title?: string;\n}\n\nexport interface RadialCarouselProps {\n  items: GalleryItem[];\n  radius?: number;\n  thumbnailSize?: number;\n  centerSize?: number;\n}\n\nexport const RadialCarousel: React.FC<RadialCarouselProps> = ({\n  items,\n  radius = 260,\n  thumbnailSize = 110,\n  centerSize = 400,\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [isDark, setIsDark] = useState(false); \n\n  const rotation = useMotionValue(0);\n  \n  const smoothRotation = useSpring(rotation, {\n    stiffness: 60,\n    damping: 25,\n    mass: 1.2\n  });\n\n  const toggleExpand = useCallback(() => {\n    setIsExpanded((prev) => !prev);\n    if (!isExpanded) {\n      rotation.set(0);\n    }\n  }, [isExpanded, rotation]);\n\n  const handleItemClick = (index: number) => {\n    setActiveIndex(index);\n    setIsExpanded(false);\n  };\n\n  const containerVariants: Variants = {\n    collapsed: { transition: { staggerChildren: 0.02, staggerDirection: -1 } },\n    expanded: { transition: { staggerChildren: 0.04, delayChildren: 0.1 } },\n  };\n\n  return (\n    <div className={`min-h-[110vh] w-full flex flex-col items-center justify-center p-4 transition-colors duration-500 ${isDark ? 'bg-[#0A0A0B]' : 'bg-white'}`}>\n      \n      {/* Theme Toggle */}\n      <button \n        onClick={() => setIsDark(!isDark)}\n        className={`mb-8 p-3 rounded-full transition-all active:scale-95 border ${\n          isDark ? 'bg-[#1C1C1E] border-white/10 text-yellow-400' : 'bg-white border-black/5 text-gray-400 shadow-sm'\n        }`}\n      >\n        {isDark ? <Sun size={20} /> : <Moon size={20} />}\n      </button>\n\n      <div className=\"relative flex items-center justify-center w-full h-[400px] select-none touch-none overflow-visible\">\n        <AnimatePresence mode=\"popLayout\">\n          {!isExpanded ? (\n            <motion.div\n              key=\"center-view\"\n              initial={{ scale: 0.8, opacity: 0, y: 30 }}\n              animate={{ scale: 1, opacity: 1, y: 0 }}\n              exit={{ scale: 0.4, opacity: 0, transition: { duration: 0.25 } }}\n              transition={{ type: 'spring' as const, stiffness: 260, damping: 25 }}\n              className=\"relative z-10\"\n            >\n              <div \n                style={{ width: centerSize, height: centerSize }}\n                className={`relative p-4 rounded-[42px] overflow-hidden border-[1.7px] transition-colors duration-300 ${\n                  isDark \n                    ? \"bg-[#1C1C1E] border-white/10 shadow-[0_40px_80px_-20px_rgba(0,0,0,0.5)]\" \n                    : \"bg-white border-[#F4F4F4] shadow-[0_40px_80px_-20px_rgba(0,0,0,0.15)]\"\n                }`}\n              >\n                <img\n                  src={items[activeIndex].url}\n                  alt={items[activeIndex].title}\n                  className=\"w-full h-full object-cover rounded-[36px]\"\n                  draggable={false}\n                />\n                \n                <button title='close'\n                  onClick={toggleExpand}\n                  className={`absolute top-8 right-8 w-10 h-10 backdrop-blur-xl rounded-full flex items-center justify-center shadow-xl transition-all duration-200 hover:scale-105 active:scale-95 ${\n                    isDark ? \"bg-white/10 hover:bg-white/20\" : \"bg-[#F6F1F0] hover:bg-white\"\n                  }`}\n                >\n                  <X size={28} className={isDark ? \"text-white\" : \"text-[#908B90]\"} />\n                </button>\n              </div>\n            </motion.div>\n          ) : (\n            <motion.div\n              key=\"radial-view\"\n              variants={containerVariants}\n              initial=\"collapsed\"\n              animate=\"expanded\"\n              exit=\"collapsed\"\n              className=\"relative flex items-center justify-center w-full h-full cursor-grab active:cursor-grabbing\"\n              onPan={(_, info) => {\n                const current = rotation.get();\n                rotation.set(current + info.delta.x * 0.5);\n              }}\n            >\n              {items.map((item, index) => {\n                const baseAngle = (index / items.length) * (2 * Math.PI) - Math.PI / 2;\n                return (\n                  <Item \n                    key={item.id}\n                    index={index}\n                    item={item}\n                    baseAngle={baseAngle}\n                    radius={radius}\n                    thumbnailSize={thumbnailSize}\n                    rotation={smoothRotation}\n                    isDark={isDark}\n                    onClick={() => handleItemClick(index)}\n                  />\n                );\n              })}\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n};\n\ninterface ItemProps {\n  index: number;\n  item: GalleryItem;\n  baseAngle: number;\n  radius: number;\n  thumbnailSize: number;\n  rotation: any;\n  isDark: boolean;\n  onClick: () => void;\n}\n\nconst Item: React.FC<ItemProps> = ({ index, item, baseAngle, radius, thumbnailSize, rotation, isDark, onClick }) => {\n  const x = useTransform(rotation, (r: number) => {\n    const currentAngle = baseAngle + (r * Math.PI) / 180;\n    return Math.cos(currentAngle) * radius;\n  });\n\n  const y = useTransform(rotation, (r: number) => {\n    const currentAngle = baseAngle + (r * Math.PI) / 180;\n    return Math.sin(currentAngle) * radius;\n  });\n\n  const rotate = useTransform(rotation, (r: number) => {\n      return (index % 2 === 0 ? 5 : -5) + (r * 0.05);\n  });\n\n  const itemVariants: Variants = {\n    collapsed: { scale: 0, opacity: 0, transition: { type: 'spring', stiffness: 350, damping: 30 } },\n    expanded: { scale: 1, opacity: 1, transition: { type: 'spring', stiffness: 200, damping: 20 } }\n  };\n\n  return (\n    <motion.div\n      variants={itemVariants}\n      style={{ x, y, rotate }}\n      whileHover={{ scale: 1.12, rotate: 0, zIndex: 50 }}\n      onClick={onClick}\n      className=\"absolute cursor-pointer\"\n    >\n      <div \n        style={{ width: thumbnailSize, height: thumbnailSize }}\n        className={`p-2 rounded-[24px] shadow-2xl border overflow-hidden transition-colors duration-300 ${\n          isDark \n            ? \"bg-[#1C1C1E] border-white/10 ring-1 ring-white/5\" \n            : \"bg-white border-white/80 ring-1 ring-black/[0.03]\"\n        }`}\n      >\n        <img\n          src={item.url}\n          alt={item.title}\n          className=\"w-full h-full object-cover rounded-[18px]\"\n          draggable={false}\n        />\n      </div>\n    </motion.div>\n  );\n};\n",
      "type": "registry:ui",
      "target": "components/ui/radial-carousel.tsx"
    }
  ],
  "type": "registry:ui"
}