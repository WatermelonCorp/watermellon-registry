{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "inline-disclosure-menu",
  "dependencies": [
    "@hugeicons/core-free-icons",
    "@hugeicons/react",
    "lucide-react",
    "motion"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "src/components/ui/inline-disclosure-menu.tsx",
      "content": "\"use client\";\n\nimport { useState, useRef, useEffect, type FC } from \"react\";\nimport { motion, AnimatePresence, LayoutGroup, type Variants, type Transition } from \"motion/react\";\nimport { MoreVertical, Sun, Moon } from \"lucide-react\";\nimport { HugeiconsIcon } from \"@hugeicons/react\";\nimport {\n  Copy01Icon,\n  Delete02Icon,\n  FavouriteIcon,\n  PencilEdit02Icon,\n  Share01Icon\n} from \"@hugeicons/core-free-icons\";\n\n/* --- Types --- */\ninterface MenuItemProps {\n  icon: React.ReactNode;\n  label: string;\n  onClick?: () => void;\n  className?: string;\n}\n\ninterface InlineDisclosureMenuProps {\n  menuItems?: MenuItemProps[];\n  showDelete?: boolean;\n  onDelete?: () => void;\n}\n\n/* --- Constants --- */\nconst springTransition:Transition = {\n  type: \"spring\",\n  stiffness: 320,\n  damping: 26,\n};\n\nconst menuVariants: Variants = {\n  hidden: { opacity: 0, scale: 0.92 },\n  visible: { opacity: 1, scale: 1, transition: springTransition },\n};\n\n/* --- Sub-Components --- */\nconst MenuItem: FC<MenuItemProps> = ({ icon, label, onClick, className = \"\" }) => (\n  <button\n    onClick={onClick}\n    className={`w-full flex items-center gap-4 px-3 rounded-xl py-2 text-[#363538] dark:text-zinc-200\n      hover:bg-[#F6F5FA] dark:hover:bg-zinc-800 transition-colors duration-200 text-left\n      active:bg-gray-100 dark:active:bg-zinc-700 ${className}`}\n  >\n    <span className=\"text-gray-500 dark:text-zinc-400\">{icon}</span>\n    <span className=\"text-[18px] font-medium tracking-tight\">{label}</span>\n  </button>\n);\n\n/* --- Main Component --- */\nexport const InlineDisclosureMenu: FC<InlineDisclosureMenuProps> = ({\n  menuItems = [\n    { icon: <HugeiconsIcon icon={PencilEdit02Icon} size={26} strokeWidth={1.5} />, label: \"Edit\" },\n    { icon: <HugeiconsIcon icon={Copy01Icon} size={26} strokeWidth={1.5} />, label: \"Duplicate\" },\n    { icon: <HugeiconsIcon icon={FavouriteIcon} size={26} strokeWidth={1.5} />, label: \"Favourite\" },\n    { icon: <HugeiconsIcon icon={Share01Icon} size={26} strokeWidth={1.5} />, label: \"Share\" },\n  ] as MenuItemProps[],\n  showDelete = true,\n  onDelete,\n}) => {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const [showConfirm, setShowConfirm] = useState<boolean>(false);\n  const [isDark, setIsDark] = useState<boolean>(false);\n  const wrapperRef = useRef<HTMLDivElement>(null);\n\n  // Theme Sync\n  useEffect(() => {\n    if (isDark) document.documentElement.classList.add('dark');\n    else document.documentElement.classList.remove('dark');\n  }, [isDark]);\n\n  // Handle Click Outside\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (wrapperRef.current && !wrapperRef.current.contains(e.target as Node)) {\n        setIsOpen(false);\n        setShowConfirm(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  return (\n    <div className=\"relative h-screen w-full select-none flex flex-col items-center justify-center bg-[#FEFEFE] dark:bg-zinc-950 transition-colors duration-500\">\n\n      {/* Theme Toggle */}\n      <button\n        onClick={() => setIsDark(!isDark)}\n        className=\"mb-12 p-3 rounded-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 shadow-sm active:scale-90 transition-all\"\n      >\n        {isDark ? <Sun className=\"text-yellow-400\" size={20} /> : <Moon className=\"text-zinc-500\" size={20} />}\n      </button>\n\n      {/* Wrapper */}\n      <div ref={wrapperRef} className=\"relative\">\n        {/* Trigger */}\n        <motion.button\n          whileTap={{ scale: 0.95 }}\n          onClick={() => setIsOpen((v) => !v)}\n          className={`w-[56px] h-[56px] flex items-center justify-center\n            bg-[#FEFEFE] dark:bg-zinc-900 rounded-2xl\n            border-2 border-[#EEEEF2] dark:border-zinc-800\n            shadow-[inset_0_-4px_4px_rgba(0,0,0,0.06)] dark:shadow-none\n            text-gray-500 dark:text-zinc-400 hover:text-gray-800 dark:hover:text-white transition-colors duration-200\n            ${isOpen ? \"bg-gray-50 dark:bg-zinc-800\" : \"\"}`}\n        >\n          <MoreVertical size={24} />\n        </motion.button>\n\n        {/* Menu */}\n        <AnimatePresence>\n          {isOpen && (\n            <motion.div\n              layout\n              variants={menuVariants}\n              initial=\"hidden\"\n              animate=\"visible\"\n              exit=\"hidden\"\n              className=\"absolute -left-1/2 -top-1/2 -translate-x-1/2 -translate-y-1/2\n                w-[304px] border-2 border-[#EEEEF2] dark:border-zinc-800\n                bg-white dark:bg-zinc-900 rounded-2xl overflow-hidden z-50 shadow-xl\"\n            >\n              {/* Header */}\n              <div className=\"pt-[8px] pb-[8px] px-[24px] bg-[#FAFAFC] dark:bg-zinc-800/50 border-b-2 border-[#EEEEF2] dark:border-zinc-800\">\n                <span className=\"text-[16px] text-[#828287] dark:text-zinc-500 font-medium\">More Options</span>\n              </div>\n\n              <LayoutGroup>\n                <div className=\"px-[8px] flex flex-col gap-[16px] py-[8px]\">\n                  {menuItems.map((item, idx) => (\n                    <MenuItem\n                      key={idx}\n                      icon={\n                        <HugeiconsIcon\n                          icon={(item.icon as any)?.props?.icon ?? PencilEdit02Icon}\n                          size={26}\n                          color={isDark ? \"#a1a1aa\" : \"#5e5d62\"}\n                          strokeWidth={1.5}\n                        />\n                      }\n                      label={item.label}\n                      onClick={item.onClick}\n                    />\n                  ))}\n                </div>\n\n                {/* Delete Section */}\n                {showDelete && (\n                  <div className=\"relative border-t-2 border-[#EEEEF2] dark:border-zinc-800 h-[60px] overflow-hidden\">\n                    <AnimatePresence mode=\"wait\">\n                      {!showConfirm ? (\n                        <motion.div\n                          key=\"delete\"\n                          className=\"absolute inset-0 flex items-center px-[8px]\"\n                          initial={{ opacity: 0, y: 8 }}\n                          animate={{ opacity: 1, y: 0 }}\n                          exit={{ opacity: 0, y: -8 }}\n                          transition={springTransition}\n                        >\n                          <MenuItem\n                            icon={<HugeiconsIcon icon={Delete02Icon} size={26} color=\"#e94447\" strokeWidth={1.5} />}\n                            label=\"Delete\"\n                            className=\"text-[#e94447] hover:bg-[#faf2f4] dark:hover:bg-red-500/10\"\n                            onClick={() => setShowConfirm(true)}\n                          />\n                        </motion.div>\n                      ) : (\n                        <motion.div\n                          key=\"confirm\"\n                          className=\"absolute inset-0 flex items-center justify-center px-[8px] gap-[8px]\"\n                          initial={{ opacity: 0, y: 8 }}\n                          animate={{ opacity: 1, y: 0 }}\n                          exit={{ opacity: 0, y: -8 }}\n                          transition={springTransition}\n                        >\n                          <motion.button\n                            whileTap={{ scale: 0.98 }}\n                            className=\"w-full h-[46px] bg-[#F24140] text-[#FFE4E6] rounded-[14px] font-semibold text-base shadow-sm\"\n                            onClick={onDelete}\n                          >\n                            Yes, Delete\n                          </motion.button>\n\n                          <motion.button\n                            whileTap={{ scale: 0.98 }}\n                            onClick={() => setShowConfirm(false)}\n                            className=\"w-full h-[46px] bg-white dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 text-gray-600 dark:text-zinc-300 rounded-[14px] font-semibold text-base hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors shadow-sm\"\n                          >\n                            Cancel\n                          </motion.button>\n                        </motion.div>\n                      )}\n                    </AnimatePresence>\n                  </div>\n                )}\n              </LayoutGroup>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n};\n\n",
      "type": "registry:ui",
      "target": "components/ui/inline-disclosure-menu.tsx"
    }
  ],
  "type": "registry:ui"
}