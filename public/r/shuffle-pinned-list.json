{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "shuffle-pinned-list",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/shuffle-pinned-list.tsx",
      "content": "\"use client\";\n\nimport { useState, useCallback, useMemo, useEffect, type FC } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Pin, ChevronsUpDown, Sun, Moon } from \"lucide-react\";\nimport { BsChatFill } from \"react-icons/bs\";\n\n// --- Types ---\nexport interface ListItem {\n  id: string;\n  text: string;\n  isPinned: boolean;\n}\n\ninterface ShufflePinnedListProps {\n  items?: ListItem[];\n  onPinChange?: (updatedItems: ListItem[]) => void;\n  onShuffle?: (currentHeroItem?: ListItem) => void;\n}\n\nconst DEFAULT_ITEMS: ListItem[] = [\n  { id: \"1\", text: \"Daily Fitness Tracker\", isPinned: false },\n  { id: \"2\", text: \"Voice Command Tips\", isPinned: false },\n  { id: \"3\", text: \"iOS Shortcuts Guide\", isPinned: false },\n  { id: \"4\", text: \"Focus Mode Ideas\", isPinned: false },\n  { id: \"5\", text: \"50 Productivity Hacks\", isPinned: false },\n  { id: \"6\", text: \"Lunch Recipe Ideas\", isPinned: false },\n  { id: \"7\", text: \"Snack Ideas For Kids\", isPinned: false },\n];\n\nexport const ShufflePinnedList: FC<ShufflePinnedListProps> = ({\n  items: propItems,\n  onPinChange,\n  onShuffle,\n}) => {\n  const [items, setItems] = useState<ListItem[]>(propItems ?? DEFAULT_ITEMS);\n  const [activePinnedIndex, setActivePinnedIndex] = useState<number>(0);\n  const [isDark, setIsDark] = useState<boolean>(false);\n\n  // Theme logic\n  useEffect(() => {\n    if (isDark) document.documentElement.classList.add(\"dark\");\n    else document.documentElement.classList.remove(\"dark\");\n  }, [isDark]);\n\n  const pinnedItems = useMemo(() => items.filter((item) => item.isPinned), [items]);\n\n  const togglePin = useCallback(\n    (id: string) => {\n      setItems((prev) => {\n        const updated = prev.map((item) =>\n          item.id === id ? { ...item, isPinned: !item.isPinned } : item\n        );\n\n        // Adjust activePinnedIndex\n        const currentlyPinned = prev.filter((i) => i.isPinned);\n        const toggledItem = prev.find((i) => i.id === id);\n        if (toggledItem?.isPinned) {\n          const removedIndex = currentlyPinned.findIndex((i) => i.id === id);\n          if (removedIndex <= activePinnedIndex && activePinnedIndex > 0) {\n            setActivePinnedIndex((i) => Math.max(0, i - 1));\n          }\n        }\n\n        onPinChange?.(updated);\n        return updated;\n      });\n    },\n    [activePinnedIndex, onPinChange]\n  );\n\n  const shufflePinned = useCallback(() => {\n    if (pinnedItems.length <= 1) return;\n    setActivePinnedIndex((i) => (i + 1) % pinnedItems.length);\n    onShuffle?.(pinnedItems[(activePinnedIndex + 1) % pinnedItems.length]);\n  }, [pinnedItems, activePinnedIndex, onShuffle]);\n\n  const currentHeroItem = pinnedItems[activePinnedIndex];\n\n  return (\n    <div className=\"h-screen w-full flex flex-col items-center justify-center bg-white dark:bg-zinc-950 transition-colors duration-500\">\n      \n      {/* Theme Toggle */}\n      <button \n        onClick={() => setIsDark(!isDark)}\n        className=\"mb-8 p-3 rounded-full bg-[#fefefe] dark:bg-zinc-900 border border-[#E5E5E9] dark:border-zinc-800 shadow-sm transition-all active:scale-95\"\n      >\n        {isDark ? <Sun className=\"text-yellow-400\" size={20} /> : <Moon className=\"text-gray-500\" size={20} />}\n      </button>\n\n      <div className=\"w-full max-w-[400px] h-[450px] bg-[#fefefe] dark:bg-zinc-900 rounded-[40px] py-4 px-4 border border-[#E5E5E9] dark:border-zinc-800 relative overflow-hidden shadow-xs\">\n        <motion.div\n          layout\n          className=\"relative h-full overflow-y-scroll pr-2 no-scrollbar scroll-smooth\"\n        >\n          <div className=\"space-y-4\">\n            {/* PINNED HERO */}\n            <motion.div layout className=\"overflow-hidden\" transition={{ type: \"spring\", stiffness: 300, damping: 30 }}>\n              <AnimatePresence mode=\"popLayout\">\n                {pinnedItems.length > 0 && (\n                  <motion.div\n                    key={currentHeroItem?.id}\n                    layout\n                    initial={{ opacity: 0, scale: 0.8, y: -20 }}\n                    animate={{ opacity: 1, scale: 1, y: 0 }}\n                    exit={{ opacity: 0, scale: 0.8, y: -20 }}\n                    transition={{ duration: 0.4, type: \"spring\", bounce: 0.4 }}\n                    className=\"flex items-center justify-between bg-[#F6F5FA] dark:bg-zinc-800 rounded-full p-3 py-2 cursor-pointer mb-4\"\n                    onClick={shufflePinned}\n                  >\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"w-11 h-11 rounded-full bg-white dark:bg-zinc-700 flex items-center justify-center shadow-xs\">\n                        <Pin className=\"w-5 h-5 text-[#D9D9DF] dark:text-zinc-400\" fill=\"currentColor\" />\n                      </div>\n                      <span className=\"font-bold text-lg text-[#29292D] dark:text-zinc-100 truncate max-w-[180px]\">\n                        {currentHeroItem.text}\n                      </span>\n                    </div>\n\n                    {pinnedItems.length > 1 && (\n                      <motion.button\n                        whileTap={{ scale: 0.95 }}\n                        className=\"w-11 h-11 flex items-center justify-center rounded-full text-gray-400 dark:text-zinc-400 bg-[#fefefe] dark:bg-zinc-700 shadow-xs\"\n                      >\n                        <ChevronsUpDown className=\"w-6 h-6\" />\n                      </motion.button>\n                    )}\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </motion.div>\n\n            {/* TODAY HEADER */}\n            <motion.h1 layout className=\"text-base font-semibold text-[#ADACB4] dark:text-zinc-500 px-2\">\n              Today\n            </motion.h1>\n\n            {/* LIST */}\n            <div className=\"space-y-1 w-full\">\n              <AnimatePresence mode=\"popLayout\">\n                {items.map((item) => {\n                  const isHighlighted = currentHeroItem?.id === item.id;\n                  return (\n                    <motion.div\n                      layout\n                      key={item.id}\n                      initial={{ opacity: 0, scale: 0.9 }}\n                      animate={{\n                        opacity: 1,\n                        scale: isHighlighted ? [1, 1.03, 1] : 1,\n                      }}\n                      exit={{ opacity: 0, scale: 0.9 }}\n                      transition={{ type: \"spring\", stiffness: 400, damping: 30, scale: { duration: 0.3 } }}\n                      className=\"group relative flex items-center justify-between p-2 px-2 rounded-full hover:bg-[#F6F5FA] dark:hover:bg-zinc-800 transition-colors cursor-default overflow-hidden\"\n                    >\n                      {isHighlighted && (\n                        <motion.div\n                          initial={{ opacity: 0 }}\n                          animate={{ opacity: [0, 1, 0] }}\n                          transition={{ duration: 1, times: [0, 0.2, 1] }}\n                          className=\"absolute inset-0 bg-[#F6F5FA] dark:bg-zinc-800 pointer-events-none\"\n                        />\n                      )}\n\n                      <div className=\"flex items-center gap-4 relative z-10\">\n                        <div className=\"w-10 h-10 pl-0.5 rounded-full bg-[#FEFEFE] dark:bg-zinc-800 flex items-center justify-center border border-[#E5E5E9] dark:border-zinc-700 shadow-2xs\">\n                          <BsChatFill className=\"w-5 h-5 text-[#D5D4E0] dark:text-zinc-500\" fill=\"currentColor\" />\n                        </div>\n                        <span className=\"font-bold text-[#262626] dark:text-zinc-100\">\n                          {item.text}\n                        </span>\n                      </div>\n\n                      <button\n                        title=\"pin\"\n                        type=\"button\"\n                        onClick={(e) => { e.stopPropagation(); togglePin(item.id); }}\n                        className={`relative z-10 w-10 h-10 flex items-center justify-center rounded-full transition-all\n                          ${item.isPinned ? \"text-[#6B6A72] dark:text-zinc-400 opacity-100\" : \"opacity-0 group-hover:opacity-80 text-[#ADACB8] dark:text-zinc-500 hover:text-[#6A6970] dark:hover:text-zinc-300\"}`}\n                      >\n                        <Pin className=\"w-5 h-5\" fill=\"currentColor\" />\n                      </button>\n                    </motion.div>\n                  );\n                })}\n              </AnimatePresence>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Bottom Fade */}\n        <div className=\"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-[#fefefe] dark:from-zinc-900 to-transparent pointer-events-none rounded-b-[40px]\" />\n      </div>\n    </div>\n  );\n};",
      "type": "registry:ui",
      "target": "components/ui/shuffle-pinned-list.tsx"
    }
  ],
  "type": "registry:ui"
}