{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "family-wallet",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/family-wallet.tsx",
      "content": "import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  ChevronLeft,\n  X,\n  ArrowRight,\n  Fingerprint,\n  Github,\n  Chrome,\n  Wallet,\n  Check\n} from 'lucide-react';\nimport { BsWallet2 } from 'react-icons/bs';\nimport { FaApple, FaDiscord } from 'react-icons/fa6';\n\n\nconst XIcon = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"currentColor\" {...props}>\n    <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\" />\n  </svg>\n);\n\nconst MetamaskLogo = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 32 32\">\n    <path d=\"M28.4,5.4l-11-4c-0.9-0.3-1.8-0.3-2.7,0l-11,4c-1,0.4-1.7,1.3-1.7,2.4v9c0,1,0.6,2,1.5,2.5l11,6.4c0.4,0.2,0.9,0.3,1.3,0.3s0.9-0.1,1.3-0.3l11-6.4c0.9-0.5,1.5-1.5,1.5-2.5v-9C30.1,6.7,29.4,5.7,28.4,5.4z\" fill=\"#E2761B\" />\n    <path d=\"M16.1,28.4L16,28.4l-11.1-6.4c-0.2-0.1-0.3-0.3-0.3-0.5V13l11.4,15.4V28.4z\" fill=\"#E4761B\" />\n    <path d=\"M27.4,21.5L16.3,28l-0.3,0.1V13l11.7,8.5V21.5z\" fill=\"#8D4D32\" />\n  </svg>\n);\n\nconst CoinbaseLogo = () => (\n  <div className=\"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center\">\n    <div className=\"w-2.5 h-2.5 bg-white rounded-full\"></div>\n  </div>\n);\n\nconst PhantomLogo = () => (\n  <div className=\"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center\">\n    <div className=\"w-3 h-3 bg-white rounded-bl-full rounded-tr-full transform rotate-45\"></div>\n  </div>\n);\n\nconst TrustLogo = () => (\n  <div className=\"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center\">\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"white\">\n      <path d=\"M12 2L4 5v6c0 5.5 3.5 10.5 8 12 4.5-1.5 8-6.5 8-12V5l-8-3z\" />\n    </svg>\n  </div>\n);\n\nenum View {\n  SIGN_IN = 'SIGN_IN',\n  CONFIRM_EMAIL = 'CONFIRM_EMAIL',\n  PASSKEY = 'PASSKEY',\n  CONNECT_WALLET = 'CONNECT_WALLET',\n}\n\nenum AuthType {\n  EMAIL = 'EMAIL',\n  PHONE = 'PHONE',\n  PASSKEY = 'PASSKEY',\n}\n\nexport const FamilyWallet: React.FC = () => {\n  const [view, setView] = useState<View>(View.SIGN_IN);\n  const [authType, setAuthType] = useState<AuthType>(AuthType.EMAIL);\n  const [email, setEmail] = useState('yo@gxuri.in');\n  const [otp, setOtp] = useState(['', '', '', '', '', '']);\n  const [hasWallet, setHasWallet] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [isPanelOpen, setIsPanelOpen] = useState(false);\n\n  const otpRefs = useRef<(HTMLInputElement | null)[]>([]);\n\n  useEffect(() => {\n    if (view === View.CONFIRM_EMAIL) {\n      otpRefs.current[0]?.focus();\n    }\n  }, [view]);\n\n  const handleOtpChange = (index: number, value: string) => {\n    if (value.length > 1) value = value.slice(-1);\n    const newOtp = [...otp];\n    newOtp[index] = value;\n    setOtp(newOtp);\n    if (value && index < 5) {\n      otpRefs.current[index + 1]?.focus();\n    }\n  };\n\n  const handleKeyDown = (index: number, e: React.KeyboardEvent) => {\n    if (e.key === 'Backspace' && !otp[index] && index > 0) {\n      otpRefs.current[index - 1]?.focus();\n    }\n  };\n\n  const handlePasskeyContinue = () => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n      setView(View.SIGN_IN);\n    }, 2000);\n  };\n\n  const closePanel = () => {\n    setIsPanelOpen(false);\n    setView(View.SIGN_IN);\n  };\n\n  const renderSignIn = () => (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.95 }}\n      className=\"flex flex-col gap-6\"\n    >\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-xl font-semibold text-white\">Sign In</h2>\n        <button onClick={closePanel} title='close' aria-label=\"Close\" className=\"p-2 rounded-full bg-zinc-800 transition-colors\">\n          <X className=\"w-5 h-5 text-zinc-400\" />\n        </button>\n      </div>\n\n      <div className=\"flex justify-between items-center px-3\">\n        {([Chrome, FaDiscord, Github, FaApple, XIcon] as React.ElementType[]).map((Icon, i) => (\n          <button title='logos'\n            key={i}\n            className=\"w-12 h-12 flex items-center justify-center rounded-xl bg-[#161616] hover:border-zinc-700 hover:bg-zinc-800 transition-all text-white\"\n          >\n            <Icon className=\"w-6 h-6\" />\n          </button>\n        ))}\n      </div>\n\n      <div className=\"flex bg-[#161616] p-1 rounded-xl\">\n        {Object.values(AuthType).map((type) => (\n          <button\n            key={type}\n            onClick={() => setAuthType(type)}\n            className={`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${authType === type\n              ? 'bg-[#212121] text-white shadow-sm'\n              : 'text-zinc-500 hover:text-zinc-300'\n              }`}\n          >\n            {type.charAt(0) + type.slice(1).toLowerCase()}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"relative\">\n        <AnimatePresence mode=\"wait\">\n          {authType === AuthType.EMAIL && (\n            <motion.div\n              key=\"email\"\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n              className=\"relative\"\n            >\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"email@address.com\"\n                className=\"w-full bg-[#161616]  rounded-xl py-3.5 px-4 text-white focus:outline-none focus:border-blue-500 transition-colors\"\n              />\n              <button title='forward'\n                onClick={() => setView(View.CONFIRM_EMAIL)}\n                className=\"absolute right-2 top-1.5 w-10 h-10 flex items-center justify-center rounded-lg bg-[#4EAFFF] hover:bg-[#4eafffe3] transition-colors text-white\"\n              >\n                <ArrowRight className=\"w-5 h-5\" />\n              </button>\n            </motion.div>\n          )}\n\n          {authType === AuthType.PHONE && (\n            <motion.div\n              key=\"phone\"\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n              className=\"relative\"\n            >\n              <input\n                type=\"tel\"\n                placeholder=\"+1 234 567 8900\"\n                className=\"w-full bg-[#161616] rounded-xl py-3.5 px-4 text-white focus:outline-none focus:border-[#4EAFFF] transition-colors\"\n              />\n              <button title='forward'\n                className=\"absolute right-2 top-1.5 w-10 h-10 flex items-center justify-center rounded-lg bg-[#4EAFFF] hover:bg-[#4eafffe3] text-white\"\n                disabled\n              >\n                <ArrowRight className=\"w-5 h-5\" />\n              </button>\n            </motion.div>\n          )}\n\n          {authType === AuthType.PASSKEY && (\n            <motion.div\n              key=\"passkey\"\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n              onClick={() => setView(View.PASSKEY)}\n              className=\"flex items-center justify-between w-full bg-[#161616] rounded-xl py-3 px-4 text-white hover:border-zinc-700 cursor-pointer transition-colors\"\n            >\n              <div className=\"flex items-center gap-3\">\n                <Fingerprint className=\"w-5 h-5 text-zinc-400\" />\n                <span className=\"text-zinc-300\">Login with passkey</span>\n              </div>\n              <div className=\"w-10 h-10 flex items-center justify-center rounded-lg bg-[#4EAFFF] hover:bg-[#4eafffde] transition-colors text-white\">\n                <ArrowRight className=\"w-5 h-5\" />\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n\n      <div className=\"flex items-center gap-4\">\n        <div className=\"flex-1 h-px bg-zinc-800\"></div>\n        <span className=\"text-[10px] font-bold text-zinc-600 tracking-widest uppercase\">OR</span>\n        <div className=\"flex-1 h-px bg-zinc-800\"></div>\n      </div>\n\n      <button\n        onClick={() => setView(View.CONNECT_WALLET)}\n        className=\"w-full text-white border border-[#4EAFFF]/90  py-3.5 rounded-full flex items-center justify-center gap-3 bg-[#4EAFFF] hover:bg-[#4eafffec] font-medium transition-all\"\n      >\n        <BsWallet2 className=\"w-5 h-5\" />\n        Connect Wallet\n      </button>\n    </motion.div>\n  );\n\n  const renderConfirmEmail = () => (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.95 }}\n      className=\"flex flex-col gap-6\"\n    >\n      <div className=\"flex justify-between items-center\">\n        <button title='back'\n          onClick={() => setView(View.SIGN_IN)}\n          className=\"p-2 rounded-full bg-zinc-800 transition-colors\"\n        >\n          <ChevronLeft className=\"w-5 h-5 text-zinc-400\" />\n        </button>\n        <h2 className=\"text-xl font-semibold text-white\">Confirm Email</h2>\n        <button onClick={closePanel} title='close' className=\"p-2 rounded-full hover:bg-zinc-800 transition-colors\">\n          <X className=\"w-5 h-5 text-zinc-400\" />\n        </button>\n      </div>\n\n      <div className=\"text-center flex flex-col gap-1\">\n        <p className=\"text-zinc-500 text-sm\">Enter the verification code sent to</p>\n        <p className=\"text-white font-medium\">{email}</p>\n      </div>\n\n      <div className=\"flex justify-between gap-2\">\n        {otp.map((digit, i) => (\n          <input title='enter value'\n            key={i}\n            ref={(el) => { otpRefs.current[i] = el; }}\n            type=\"text\"\n            maxLength={1}\n            value={digit}\n            onChange={(e) => handleOtpChange(i, e.target.value)}\n            onKeyDown={(e) => handleKeyDown(i, e)}\n            className=\"w-12 h-14 bg-[#161616] border border-[#212121] rounded-xl text-center text-xl font-bold text-white focus:outline-none focus:border-green-500 transition-all\"\n          />\n        ))}\n      </div>\n\n      <button\n        onClick={() => {\n          setLoading(true);\n          setTimeout(() => {\n            setLoading(false);\n            setView(View.SIGN_IN);\n          }, 1500);\n        }}\n        className=\"w-full bg-green-500 hover:bg-green-600 py-3.5 rounded-2xl text-white font-bold text-lg transition-all shadow-[0_0_20px_rgba(34,197,94,0.3)]\"\n      >\n        {loading ? (\n          <motion.div\n            animate={{ rotate: 360 }}\n            transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n            className=\"w-6 h-6 border-2 border-white border-t-transparent rounded-full mx-auto\"\n          />\n        ) : 'Verify Code'}\n      </button>\n    </motion.div>\n  );\n\n  const renderPasskey = () => (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.95 }}\n      className=\"flex flex-col gap-8 items-center py-4\"\n    >\n      <div className=\"w-full flex justify-between items-center mb-2\">\n        <button onClick={() => setView(View.SIGN_IN)} className=\"p-2 rounded-full bg-zinc-800\">\n          <ChevronLeft className=\"w-5 h-5 text-zinc-400\" />\n        </button>\n        <h2 className=\"text-xl font-semibold text-white\">Passkey</h2>\n        <button onClick={closePanel} title='close' className=\"p-2 rounded-full hover:bg-zinc-800\">\n          <X className=\"w-5 h-5 text-zinc-400\" />\n        </button>\n      </div>\n\n      <div className=\"relative w-28 h-28 flex items-center justify-center\">\n        <div className=\"absolute inset-0\">\n          <svg className=\"w-full h-full\" viewBox=\"0 0 100 100\">\n            <rect\n              x=\"2\" y=\"2\" width=\"96\" height=\"96\" rx=\"28\"\n              fill=\"none\"\n              stroke=\"#18181b\"\n              strokeWidth=\"1\"\n            />\n            <motion.rect\n              x=\"2\" y=\"2\" width=\"96\" height=\"96\" rx=\"28\"\n              fill=\"none\"\n              stroke=\"url(#passkey-gradient)\"\n              strokeWidth=\"2\"\n              strokeDasharray=\"60 300\"\n              animate={{ strokeDashoffset: [0, -360] }}\n              transition={{ duration: 2, repeat: Infinity, ease: \"linear\" }}\n            />\n            <defs>\n              <linearGradient id=\"passkey-gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stopColor=\"#3b82f6\" stopOpacity=\"0\" />\n                <stop offset=\"50%\" stopColor=\"#3b82f6\" stopOpacity=\"1\" />\n                <stop offset=\"100%\" stopColor=\"#3b82f6\" stopOpacity=\"0\" />\n              </linearGradient>\n            </defs>\n          </svg>\n        </div>\n\n        <motion.div\n          className=\"relative w-24 h-24 rounded-[26px] bg-[#161616] flex items-center justify-center shadow-inner\"\n        >\n          <Fingerprint className=\"w-12 h-12 text-[#777777] \" />\n        </motion.div>\n        <div className=\"absolute -inset-8 rounded-full bg-[#161616] blur-3xl -z-10 animate-pulse\"></div>\n      </div>\n\n      <div className=\"text-center space-y-2\">\n        <h3 className=\"text-2xl font-bold text-white tracking-tight\">Waiting for passkey</h3>\n        <p className=\"text-zinc-500 text-sm max-w-[210px] mx-auto leading-relaxed\">\n          Please follow prompts to verify your identity.\n        </p>\n      </div>\n\n      <button\n        onClick={handlePasskeyContinue}\n        className=\"w-full bg-[#4290d0] hover:bg-[#4290d0e4] py-3.5 rounded-2xl text-white font-bold text-lg transition-all\"\n      >\n        {loading ? 'Verifying...' : 'Continue'}\n      </button>\n    </motion.div>\n  );\n\n  const renderWalletList = () => (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: 20 }}\n      className=\"flex flex-col gap-6\"\n    >\n      <div className=\"flex justify-between items-center\">\n        <button onClick={() => setView(View.SIGN_IN)} className=\"p-2 rounded-full bg-zinc-800\">\n          <ChevronLeft className=\"w-5 h-5 text-zinc-400\" />\n        </button>\n        <h2 className=\"text-xl font-semibold text-white\">Connect Wallet</h2>\n        <button onClick={closePanel} title='close' className=\"p-2 rounded-full hover:bg-zinc-800\">\n          <X className=\"w-5 h-5 text-zinc-400\" />\n        </button>\n      </div>\n\n      <div className=\"space-y-1 overflow-y-auto max-h-[350px] pr-2 custom-scrollbar\">\n        {[\n          { name: 'Metamask', logo: MetamaskLogo },\n          { name: 'Coinbase', logo: CoinbaseLogo },\n          { name: 'Phantom', logo: PhantomLogo },\n          { name: 'Trust Wallet', logo: TrustLogo },\n          { name: 'Other Wallets', logo: () => <div className=\"w-8 h-8 rounded-full p-0.5 bg-zinc-800 flex items-center justify-center\"><Wallet className=\"w-5 h-5 text-zinc-400\" /></div>, badge: '350+' },\n        ].map((wallet, i) => (\n          <button\n            key={i}\n            className=\"w-full flex items-center justify-between p-4 rounded-2xl bg-transparent hover:bg-zinc-900 transition-colors group\"\n          >\n            <span className=\"text-zinc-300 font-medium group-hover:text-white transition-colors flex items-center gap-2\">\n              {wallet.name}\n              {wallet.badge && <span className=\"text-[10px] bg-zinc-800 px-1.5 py-0.5 rounded text-zinc-500 font-bold\">{wallet.badge}</span>}\n            </span>\n            <wallet.logo />\n          </button>\n        ))}\n      </div>\n\n      <div className=\"flex flex-col items-center gap-4 mt-2\">\n        <label className=\"flex items-center gap-3 cursor-pointer select-none\">\n          <input\n            type=\"checkbox\"\n            checked={hasWallet}\n            onChange={(e) => setHasWallet(e.target.checked)}\n            className=\"hidden\"\n          />\n          <div className={`w-5 h-5 rounded border transition-all flex items-center justify-center ${hasWallet ? 'bg-zinc-200 border-zinc-200' : 'bg-transparent border-zinc-700'\n            }`}>\n            {hasWallet && <Check className=\"w-3.5 h-3.5 text-black stroke-[3px]\" />}\n          </div>\n          <span className=\"text-zinc-500 text-sm font-medium\">I Don't Have a Wallet</span>\n        </label>\n      </div>\n    </motion.div>\n  );\n\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center p-4 bg-[#121212]\">\n\n      <AnimatePresence mode=\"popLayout\">\n        {!isPanelOpen && (\n          <motion.button\n            key=\"signin-button\"\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.95 }}\n            transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\n            onClick={() => setIsPanelOpen(true)}\n            className=\"px-10 py-4 bg-white border-[#121212] border text-black font-bold rounded-full hover:bg-zinc-200 active:scale-95 transition-all shadow-xl \"\n          >\n            Sign In\n          </motion.button>\n        )}\n\n        {isPanelOpen && (\n          <motion.div\n            key=\"auth-panel\"\n            layout\n            initial={{ opacity: 0, scale: 0.9, y: 20 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.9, y: 20 }}\n            transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n            className=\"w-full max-w-[400px] bg-[#111111] border border-[#201f1f] rounded-[32px] overflow-hidden p-6 shadow-xl relative z-50\"\n          >\n            <AnimatePresence mode=\"wait\">\n              {view === View.SIGN_IN && <div key=\"signin\">{renderSignIn()}</div>}\n              {view === View.CONFIRM_EMAIL && <div key=\"otp\">{renderConfirmEmail()}</div>}\n              {view === View.PASSKEY && <div key=\"passkey\">{renderPasskey()}</div>}\n              {view === View.CONNECT_WALLET && <div key=\"wallets\">{renderWalletList()}</div>}\n            </AnimatePresence>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n    </div>\n  );\n};",
      "type": "registry:ui",
      "target": "components/ui/family-wallet.tsx"
    }
  ],
  "type": "registry:ui"
}