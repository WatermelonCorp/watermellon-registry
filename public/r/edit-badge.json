{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "edit-badge",
  "dependencies": [
    "lucide-react",
    "motion"
  ],
  "files": [
    {
      "path": "src/components/ui/edit-badge.tsx",
      "content": "import React, { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'motion/react';\nimport {\n  X,\n  Loader2,\n} from 'lucide-react';\nimport { BiSolidPencil } from 'react-icons/bi';\nimport { FaCircleCheck } from 'react-icons/fa6';\nimport { BsDashCircleFill } from 'react-icons/bs';\nimport { MdTimelapse } from 'react-icons/md';\nimport { HiPencil } from 'react-icons/hi2';\n\n/*  TYPES  */\n\nexport type BadgeIconType = 'loader' | 'clock' | 'timer' | 'check' | 'minus';\n\nexport interface BadgeConfig {\n  text: string;\n  icon: BadgeIconType;\n  color: string;\n}\n\n/*  DEFAULT DATA  */\n\nconst DEFAULT_BADGE: BadgeConfig = {\n  text: 'Completed',\n  icon: 'check',\n  color: 'green',\n};\n\nconst COLORS = [\n  { id: 'blue', bg: 'bg-[#016FFE]', badgeBg: 'bg-[#E7F1FD]', text: 'text-[#016FFE]' },\n  { id: 'yellow', bg: 'bg-[#2EBE52]', badgeBg: 'bg-[#E0FAE7]', text: 'text-[#2EBE52]' },\n  { id: 'orange', bg: 'bg-[#FFC405]', badgeBg: 'bg-[#FBF1DE]', text: 'text-[#FFC405]' },\n  { id: 'green', bg: 'bg-emerald-500', badgeBg: 'bg-emerald-50', text: 'text-emerald-600' },\n  { id: 'red', bg: 'bg-[#FE322B]', badgeBg: 'bg-[#FCECEC]', text: 'text-[#FE322B]' },\n];\n\nconst ICONS: Record<BadgeIconType, React.ElementType> = {\n  loader: Loader2,\n  clock: MdTimelapse,\n  timer: MdTimelapse,\n  check: FaCircleCheck,\n  minus: BsDashCircleFill,\n};\n\n/*  ANIMATION CONFIG  */\n\nconst springTransition = {\n  type: \"spring\",\n  stiffness: 400,\n  damping: 30,\n  mass: 1\n} as const;\n\nconst bounceTransition = {\n  type: \"spring\",\n  stiffness: 300,\n  damping: 20\n} as const;\n\n/*  PROPS  */\n\ntype EditBadgeProps = {\n  initialBadge?: BadgeConfig;\n  onChange?: (badge: BadgeConfig) => void;\n};\n\n/*  COMPONENT  */\n\nexport  function EditBadge({\n  initialBadge = DEFAULT_BADGE,\n  onChange,\n}: EditBadgeProps) {\n\n  const [badge, setBadge] = useState<BadgeConfig>(initialBadge);\n  const [tempBadge, setTempBadge] = useState<BadgeConfig>(initialBadge);\n  const [isEditing, setIsEditing] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const currentColor = COLORS.find(c => c.id === badge.color) || COLORS[0];\n  const IconComponent = ICONS[badge.icon];\n\n  const handleOpen = () => {\n    setTempBadge(badge);\n    setIsEditing(true);\n  };\n\n  const handleUpdate = () => {\n    setBadge(tempBadge);\n    onChange?.(tempBadge);\n    setIsEditing(false);\n  };\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsEditing(false);\n      }\n    };\n    if (isEditing) document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isEditing]);\n\n  return (\n    <div className=\"flex flex-col items-center justify-center gap-8 h-screen bg-white/70 relative\" ref={containerRef}>\n      \n      <motion.div \n        className=\"flex items-center gap-3\"\n        animate={{ opacity: isEditing ? 0 : 1, scale: isEditing ? 0.95 : 1 }}\n        transition={springTransition}\n      >\n        <motion.div\n          layoutId=\"badge-container\"\n          className={`flex items-center gap-2.5 px-4 py-3.5 rounded-full ${currentColor.badgeBg} ${currentColor.text} font-bold shadow-sm  cursor-default select-none`}\n        >\n          <motion.div layoutId=\"badge-icon\">\n            <IconComponent className={`w-[22px] h-[22px] ${badge.icon === 'loader' ? 'animate-spin' : ''}`} />\n          </motion.div>\n          <motion.span layoutId=\"badge-text\" className=\"text-[18px] capitalize tracking-tight\">\n            {badge.text}\n          </motion.span>\n        </motion.div>\n\n        <motion.button\n          onClick={handleOpen}\n          whileHover={{ scale: 1.1 }}\n          whileTap={{ scale: 0.9 }}\n          className=\"w-[50px] h-[50px] flex items-center justify-center bg-[#F6F5FA]  rounded-full text-[#28272A]  border border-[#edecf0] shadow-xs\"\n        >\n          <BiSolidPencil className=\"w-6 h-6 fill-current\" />\n        </motion.button>\n      </motion.div>\n\n      <AnimatePresence>\n        {isEditing && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.9, y: 20 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.9, y: 20 }}\n            transition={bounceTransition}\n            className=\"absolute z-10 w-full max-w-[340px] bg-[#fefefe] rounded-3xl p-6 shadow-lg border-2 border-[#EBEBF0]\"\n          >\n            <div className=\"flex items-center justify-between mb-5\">\n              <h2 className=\"text-[#87868F] font-bold text-lg\">Edit Badge</h2>\n              <button title='close'\n                onClick={() => setIsEditing(false)}\n                className=\"w-7 h-7 flex items-center justify-center bg-[#B0B0B7] rounded-full text-[#fefefe]\"\n              >\n                <X className=\"w-4 h-4\" strokeWidth={4} />\n              </button>\n            </div>\n\n            <div className=\"mb-6\">\n              <input\n                type=\"text\"\n                autoFocus\n                value={tempBadge.text}\n                onChange={(e) => setTempBadge(prev => ({ ...prev, text: e.target.value }))}\n                className=\"w-full px-4 py-3 text-lg font-bold border-2 border-[#EBEBF0] rounded-xl capitalize\"\n                placeholder=\"Enter status...\"\n              />\n            </div>\n\n            <div className=\"flex items-center gap-3 mb-6 flex-wrap justify-between\">\n              {(Object.keys(ICONS) as BadgeIconType[]).map((iconKey) => {\n                const Icon = ICONS[iconKey];\n                const isSelected = tempBadge.icon === iconKey;\n                return (\n                  <motion.button\n                    key={iconKey}\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                    onClick={() => setTempBadge(prev => ({ ...prev, icon: iconKey }))}\n                    className={`w-12 h-12 flex items-center justify-center rounded-xl border-2 transition-all ${\n                      isSelected ? 'border-[#28272A] bg-gray-100' : 'border-[#EBEBF0] text-[#AFAEB7]'\n                    }`}\n                  >\n                    <Icon className={`w-6 h-6 ${isSelected ? 'text-[#28272A]' : ''}`} />\n                  </motion.button>\n                );\n              })}\n            </div>\n\n            <div className=\"flex items-center gap-3 mb-8 justify-between rounded-xl border-2 border-[#EBEBF0] p-2.5\">\n              {COLORS.map((color) => {\n                const isSelected = tempBadge.color === color.id;\n                return (\n                  <motion.button\n                    key={color.id}\n                    whileHover={{ scale: 1.15 }}\n                    whileTap={{ scale: 0.9 }}\n                    onClick={() => setTempBadge(prev => ({ ...prev, color: color.id }))}\n                    className={`w-8 h-8 rounded-full ${color.bg} relative flex items-center justify-center shadow-sm`}\n                  >\n                    {isSelected && <HiPencil className=\"w-4 h-4 text-[#fefefe]\" />}\n                  </motion.button>\n                );\n              })}\n            </div>\n\n            <motion.button\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.97 }}\n              onClick={handleUpdate}\n              className=\"w-full py-4 bg-[#28272A] text-[#FBFBFD] font-bold rounded-full text-lg shadow-lg\"\n            >\n              Update Badge\n            </motion.button>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n",
      "type": "registry:ui",
      "target": "components/ui/edit-badge.tsx"
    }
  ],
  "type": "registry:ui"
}