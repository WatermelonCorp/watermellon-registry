{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "command-search",
  "dependencies": [
    "motion",
    "lucide-react",
    "react-icons"
  ],
  "files": [
    {
      "path": "src/components/ui/command-search.tsx",
      "content": "import { useState, useMemo, useEffect, useRef, type ReactNode } from 'react';\nimport { motion } from 'motion/react';\nimport { Search, User, Bell, HelpCircle, MessageSquare } from 'lucide-react';\nimport { GoArrowRight } from \"react-icons/go\";\n\nexport interface CommandItem {\n  id: string;\n  title: string;\n  section: 'Suggestions' | 'Settings' | 'Help';\n  icon: ReactNode;\n  shortcut?: string;\n  action: () => void;\n}\n\n/*  DEFAULT DATA */\nconst DEFAULT_ITEMS: CommandItem[] = [\n  { id: '1', title: 'Calendar', section: 'Suggestions', icon: <GoArrowRight size={16} />, action: () => console.log('Calendar') },\n  { id: '2', title: 'Search Emoji', section: 'Suggestions', icon: <GoArrowRight size={16} />, action: () => console.log('Emoji') },\n  { id: '3', title: 'Calculator', section: 'Suggestions', icon: <GoArrowRight size={16} />, action: () => console.log('Calculator') },\n\n  { id: '4', title: 'Profile', section: 'Settings', icon: <User size={16} />, shortcut: '⌘ P', action: () => console.log('Profile') },\n  { id: '5', title: 'Notifications', section: 'Settings', icon: <Bell size={16} />, shortcut: '⌘ N', action: () => console.log('Notifications') },\n\n  { id: '6', title: 'FAQ', section: 'Help', icon: <HelpCircle size={16} />, action: () => console.log('FAQ') },\n  { id: '7', title: 'Messages', section: 'Help', icon: <MessageSquare size={16} />, action: () => console.log('Messages') },\n];\n\ninterface Props {\n  onClose: () => void;\n  items?: CommandItem[]; \n}\n\nexport const CommandSearch: React.FC<Props> = ({\n  onClose,\n  items = DEFAULT_ITEMS, \n}) => {\n  const [query, setQuery] = useState('');\n  const [activeIndex, setActiveIndex] = useState(0);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  const filteredItems = useMemo(() => {\n    return items.filter(item =>\n      item.title.toLowerCase().includes(query.toLowerCase())\n    );\n  }, [query, items]);\n\n  useEffect(() => {\n    setActiveIndex(0);\n  }, [query]);\n\n  const sections = useMemo(() => {\n    const groups: { [key: string]: CommandItem[] } = {};\n    filteredItems.forEach(item => {\n      if (!groups[item.section]) groups[item.section] = [];\n      groups[item.section].push(item);\n    });\n\n    return Object.entries(groups).map(([name, items]) => ({\n      name,\n      items\n    }));\n  }, [filteredItems]);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      setActiveIndex(prev => (prev + 1) % filteredItems.length);\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      setActiveIndex(prev => (prev - 1 + filteredItems.length) % filteredItems.length);\n    } else if (e.key === 'Enter') {\n      const selectedItem = filteredItems[activeIndex];\n      if (selectedItem) {\n        selectedItem.action();\n        onClose();\n      }\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 z-50 flex items-start justify-center pt-[20vh] bg-black/40 backdrop-blur-[2px]\"\n      onClick={onClose}\n    >\n      <motion.div\n        initial={{ scale: 0.98, opacity: 0, y: -10 }}\n        animate={{ scale: 1, opacity: 1, y: 0 }}\n        exit={{ scale: 0.98, opacity: 0, y: -10 }}\n        transition={{ type: 'spring', damping: 25, stiffness: 300 }}\n        className=\"relative w-full max-w-[580px] bg-[#0c0c0c] border-[1.4px] border-zinc-800/80 rounded-2xl overflow-hidden shadow-2xl shadow-black\"\n        onClick={e => e.stopPropagation()}\n      >\n        {/* Search Header */}\n        <div className=\"flex items-center px-4 py-3.5 border-b-[1.4px] border-zinc-800/50\">\n          <Search size={18} className=\"text-zinc-500 mr-3\" strokeWidth={2.5} />\n          <input\n            ref={inputRef}\n            type=\"text\"\n            placeholder=\"Find...\"\n            className=\"flex-1 bg-transparent text-white text-[15px] outline-none placeholder:text-zinc-600 font-medium\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            onKeyDown={handleKeyDown}\n          />\n          <div className=\"flex items-center gap-1.5 ml-2\">\n            <span className=\"text-[11px] font-bold text-zinc-500 border border-zinc-800 p-0.5 px-1 rounded-[2px] bg-zinc-900/50\">Esc</span>\n          </div>\n        </div>\n\n        {/* Results Body */}\n        <motion.div layout className=\"max-h-[380px] overflow-y-auto custom-scrollbar p-1.5\">\n          {filteredItems.length === 0 ? (\n            <div className=\"py-12 text-center text-zinc-500 text-sm\">\n              No results found for \"{query}\"\n            </div>\n          ) : (\n            <div className=\"space-y-4 py-1\">\n              {sections.map((section) => (\n                <div key={section.name} className=\"space-y-1\">\n                  <h3 className=\"px-3 py-1 text-[11px] font-semibold text-zinc-500 uppercase tracking-wider\">\n                    {section.name}\n                  </h3>\n                  <div className=\"space-y-0.5\">\n                    {section.items.map((item) => {\n                      const globalIndex = filteredItems.findIndex(fi => fi.id === item.id);\n                      const isActive = globalIndex === activeIndex;\n\n                      return (\n                        <motion.button\n                          key={item.id}\n                          layout\n                          className={`\n                            group w-full flex items-center justify-between px-3 py-2.5 rounded-md transition-all duration-75 text-left\n                            ${isActive ? 'bg-[#232323] text-white' : 'text-zinc-400 hover:text-zinc-200'}\n                          `}\n                          onMouseEnter={() => setActiveIndex(globalIndex)}\n                          onClick={() => {\n                            item.action();\n                            onClose();\n                          }}\n                        >\n                          <div className=\"flex items-center gap-3\">\n                            <span className={`${isActive ? 'text-white' : 'text-zinc-500 group-hover:text-zinc-300'} transition-colors`}>\n                              {item.icon}\n                            </span>\n                            <span className=\"text-[14px] font-medium leading-none\">{item.title}</span>\n                          </div>\n                          \n                          {item.shortcut && (\n                            <kbd className={`\n                              text-[10px] font-bold px-1.5 py-0.5 rounded border \n                              ${isActive ? 'bg-zinc-700/50 border-zinc-600 text-zinc-300' : 'bg-transparent border-transparent text-zinc-600 group-hover:text-zinc-500'}\n                            `}>\n                              {item.shortcut}\n                            </kbd>\n                          )}\n                        </motion.button>\n                      );\n                    })}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </motion.div>\n\n        {/* Footer info */}\n        {filteredItems.length > 0 && (\n          <div className=\"px-4 py-2 bg-black/40 border-t border-zinc-800/30 flex justify-end\">\n            <div className=\"flex gap-4 items-center opacity-40\">\n               <div className=\"flex items-center gap-1.5 text-[10px] text-zinc-400\">\n                  <span className=\"p-0.5 border border-zinc-700 rounded bg-zinc-800 leading-none\">↵</span>\n                  <span>Select</span>\n               </div>\n               <div className=\"flex items-center gap-1.5 text-[10px] text-zinc-400\">\n                  <span className=\"flex flex-col gap-0.5\">\n                    <span className=\"p-0.5 border border-zinc-700 rounded bg-zinc-800 leading-none text-[8px]\">▲</span>\n                    <span className=\"p-0.5 border border-zinc-700 rounded bg-zinc-800 leading-none text-[8px]\">▼</span>\n                  </span>\n                  <span>Navigate</span>\n               </div>\n            </div>\n          </div>\n        )}\n      </motion.div>\n    </motion.div>\n  );\n};",
      "type": "registry:ui",
      "target": "components/ui/command-search.tsx"
    }
  ],
  "type": "registry:ui"
}