{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "view-on-map",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/view-on-map.tsx",
      "content": "import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, Loader2, Sun, Moon } from 'lucide-react'; // Added Sun/Moon\nimport { FaMap } from 'react-icons/fa6';\n\ninterface ViewOnMapProps {\n    locationName?: string;\n    address?: string;\n    mapImageUrl?: string;\n    className?: string;\n}\n\nexport const ViewOnMap: React.FC<ViewOnMapProps> = ({\n    address = \"Boston Public Garden\",\n    mapImageUrl = \"https://images.unsplash.com/photo-1526778548025-fa2f459cd5ce?q=80&w=2000&auto=format&fit=crop\",\n    className = \"\"\n}) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [isMapLoaded, setIsMapLoaded] = useState(false);\n    const [isDark, setIsDark] = useState(false); // New theme state\n\n    const toggleOpen = () => {\n        setIsOpen(!isOpen);\n        if (isOpen) setIsMapLoaded(false);\n    };\n\n    const springConfig = { type: \"spring\" as const, stiffness: 400, damping: 30, mass: 0.8 };\n\n    const publicMapUrl = `https://maps.google.com/maps?q=${encodeURIComponent(address)}&t=&z=16&ie=UTF8&iwloc=&output=embed`;\n\n    return (\n    <div className={`flex flex-col h-screen w-full items-center justify-center transition-colors duration-500 ${isDark ? 'bg-[#0A0A0A]' : 'bg-[#FEFEFE]'}`}>\n        \n        {/* Theme Toggle Button */}\n        <button \n            onClick={() => setIsDark(!isDark)}\n            className={`mb-12 p-3 rounded-full transition-all active:scale-95 border ${\n                isDark ? 'bg-[#1C1C1E] border-white/10 text-yellow-400' : 'bg-white border-black/5 text-gray-400 shadow-sm'\n            }`}\n        >\n            {isDark ? <Sun size={20} /> : <Moon size={20} />}\n        </button>\n\n        <div className={`relative flex items-center justify-center ${className}`}>\n            <AnimatePresence mode=\"popLayout\">\n                {!isOpen ? (\n                    /* --- PILL BUTTON --- */\n                    <motion.div\n                        key=\"button\"\n                        layoutId=\"map-container\"\n                        onClick={toggleOpen}\n                        className={`group relative cursor-pointer overflow-hidden flex items-center justify-center shadow-sm transition-colors duration-300 ${\n                            isDark ? 'bg-[#1C1C1E]' : 'bg-[#E5E4EE]'\n                        }`}\n                        style={{ width: 180, height: 52, borderRadius: 26 }}\n                        initial={{ opacity: 0, scale: 0.9 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        exit={{ opacity: 0, scale: 0.95 }}\n                        transition={springConfig}\n                        whileHover={{ scale: 1.02 }}\n                        whileTap={{ scale: 0.98 }}\n                    >\n                        {/* Background Texture */}\n                        <motion.div\n                            layoutId=\"map-bg\"\n                            className={`absolute inset-0 grayscale transition-opacity ${isDark ? 'opacity-10 brightness-50' : 'opacity-20 brightness-110'}`}\n                            style={{\n                                backgroundImage: `url(${mapImageUrl})`,\n                                backgroundSize: 'cover',\n                                backgroundPosition: 'center',\n                            }}\n                        />\n\n                        <motion.div className=\"relative z-10 flex items-center space-x-3 px-4 py-4\">\n                            <FaMap className={`w-5 h-5 transition-colors ${isDark ? 'text-white/60' : 'text-[#6A6973]'}`} />\n                            <span className={`text-[18px] font-semibold tracking-tight transition-colors ${\n                                isDark ? 'text-white' : 'text-[#3D3C43]'\n                            }`}>\n                                View on Map\n                            </span>\n                        </motion.div>\n                    </motion.div>\n                ) : (\n                    /* --- EXPANDED MAP --- */\n                    <motion.div\n                        key=\"map\"\n                        layoutId=\"map-container\"\n                        className={`relative overflow-hidden shadow-lg transition-colors duration-300 ${\n                            isDark ? 'bg-[#141414]' : 'bg-[#DEDEDE]'\n                        }`}\n                        style={{ width: 380, height: 380, borderRadius: 48 }}\n                        transition={springConfig}\n                    >\n                        <motion.div\n                            initial={{ opacity: 0 }}\n                            animate={{ opacity: 1 }}\n                            transition={{ delay: 0.15 }}\n                            className={`absolute inset-0 w-full h-full grayscale-[0.9] contrast-[1.05] brightness-[1.02] sepia-[0.1] saturate-[0.8]`}\n                        >\n                            <iframe\n                                title=\"Google Map\"\n                                width=\"100%\"\n                                height=\"100%\"\n                                style={{ \n                                    border: 0, \n                                    filter: isDark ? 'invert(90%) hue-rotate(180deg)' : 'invert(15%) hue-rotate(180deg)' \n                                }}\n                                src={publicMapUrl}\n                                allowFullScreen\n                                onLoad={() => setIsMapLoaded(true)}\n                                className={`transition-opacity duration-700 ${isMapLoaded ? 'opacity-100' : 'opacity-0'}`}\n                            />\n                        </motion.div>\n\n                        {!isMapLoaded && (\n                            <div className={`absolute inset-0 flex items-center justify-center transition-colors ${\n                                isDark ? 'bg-[#1C1C1E]' : 'bg-[#E5E5E7]'\n                            }`}>\n                                <Loader2 className=\"w-8 h-8 text-gray-400 animate-spin\" />\n                            </div>\n                        )}\n\n                        {/* CLOSE BUTTON (X) */}\n                        <motion.button\n                            initial={{ opacity: 0, scale: 0.5 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            onClick={toggleOpen}\n                            className={`absolute top-6 right-6 w-11 h-11 flex items-center justify-center rounded-full shadow-lg active:scale-90 transition-all z-50 ${\n                                isDark ? 'bg-[#2A2A2D] text-white hover:bg-[#3A3A3D]' : 'bg-white text-[#85848B] hover:bg-gray-50'\n                            }`}\n                        >\n                            <X className=\"w-6 h-6\" strokeWidth={3} />\n                        </motion.button>\n                    </motion.div>\n                )}\n            </AnimatePresence>\n        </div>\n    </div>\n    );\n};",
      "type": "registry:ui",
      "target": "components/ui/view-on-map.tsx"
    }
  ],
  "type": "registry:ui"
}