{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "split-to-edit",
  "dependencies": [
    "lucide-react",
    "motion"
  ],
  "files": [
    {
      "path": "src/components/ui/split-to-edit.tsx",
      "content": "\"use client\";\n\nimport { useState, useRef, useEffect, type  FC } from \"react\";\nimport { motion, AnimatePresence, type Transition } from \"motion/react\";\nimport { Check, Sun, Moon } from \"lucide-react\";\nimport { BiSolidPencil } from \"react-icons/bi\";\n\n// --- Types ---\ninterface SplitToEditProps {\n  initialHours?: number;\n  initialMinutes?: number;\n  onSave?: (hours: number, minutes: number) => void;\n}\n\nexport const SplitToEdit: FC<SplitToEditProps> = ({\n  initialHours = 2,\n  initialMinutes = 30,\n  onSave,\n}) => {\n  const [isEditing, setIsEditing] = useState<boolean>(false);\n  const [hours, setHours] = useState<number>(initialHours);\n  const [minutes, setMinutes] = useState<number>(initialMinutes);\n  const [tempHours, setTempHours] = useState<string>(String(initialHours));\n  const [tempMinutes, setTempMinutes] = useState<string>(String(initialMinutes));\n  const [isDark, setIsDark] = useState<boolean>(false);\n\n  const hoursInputRef = useRef<HTMLInputElement>(null);\n\n  // Theme Sync\n  useEffect(() => {\n    if (isDark) document.documentElement.classList.add(\"dark\");\n    else document.documentElement.classList.remove(\"dark\");\n  }, [isDark]);\n\n  // Sync with prop changes\n  useEffect(() => {\n    setHours(initialHours);\n    setMinutes(initialMinutes);\n    setTempHours(String(initialHours));\n    setTempMinutes(String(initialMinutes));\n  }, [initialHours, initialMinutes]);\n\n  // Auto-focus logic\n  useEffect(() => {\n    if (isEditing) {\n      const timer = setTimeout(() => {\n        hoursInputRef.current?.focus();\n        hoursInputRef.current?.select();\n      }, 50);\n      return () => clearTimeout(timer);\n    }\n  }, [isEditing]);\n\n  const handleEdit = () => {\n    setTempHours(String(hours));\n    setTempMinutes(String(minutes));\n    setIsEditing(true);\n  };\n\n  const handleSave = (e?: React.MouseEvent | React.KeyboardEvent) => {\n    e?.stopPropagation();\n    const h = Math.max(0, parseInt(tempHours, 10) || 0);\n    const m = Math.min(59, Math.max(0, parseInt(tempMinutes, 10) || 0));\n\n    setHours(h);\n    setMinutes(m);\n    setTempHours(String(h));\n    setTempMinutes(String(m));\n    setIsEditing(false);\n\n    onSave?.(h, m);\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\") handleSave(e);\n    if (e.key === \"Escape\") setIsEditing(false);\n  };\n\n  const springTransition: Transition = {\n    type: \"spring\",\n    stiffness: 450,\n    damping: 35,\n    mass: 1,\n  };\n\n  return (\n    <div className=\"flex flex-col justify-center items-center h-screen w-full bg-white dark:bg-zinc-950 transition-colors duration-500 overflow-hidden\">\n      \n      {/* THEME TOGGLE */}\n      <button \n        onClick={() => setIsDark(!isDark)}\n        aria-label=\"Toggle dark mode\"\n        className=\"mb-20 p-3 rounded-full bg-zinc-100 dark:bg-zinc-900 transition-all border border-transparent dark:border-zinc-800 shadow-sm active:scale-90 hover:bg-zinc-200 dark:hover:bg-zinc-800\"\n      >\n        {isDark ? <Sun className=\"text-yellow-400\" size={20} /> : <Moon className=\"text-zinc-600\" size={20} />}\n      </button>\n\n      <div className=\"relative flex items-center justify-center min-h-[80px] w-full px-4\">\n        <AnimatePresence mode=\"popLayout\">\n          {!isEditing ? (\n            <motion.div\n              key=\"display-mode\"\n              layoutId=\"shared-pill-bg\"\n              onClick={handleEdit}\n              initial={{ opacity: 0, scale: 0.96 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.98, transition: { duration: 0.1 } }}\n              transition={springTransition}\n              className=\"group flex items-center gap-8 bg-zinc-100 dark:bg-zinc-900 rounded-[24px] px-8 py-6 cursor-pointer select-none shadow-sm hover:bg-zinc-200/50 dark:hover:bg-zinc-800/50 transition-colors\"\n            >\n              <motion.div layout className=\"flex items-center gap-2\">\n                <motion.span\n                  layoutId=\"hours-text\"\n                  className=\"text-3xl font-bold text-zinc-950 dark:text-zinc-50 tabular-nums tracking-tight\"\n                >\n                  {hours}\n                </motion.span>\n                <motion.span layoutId=\"hours-unit\" className=\"text-3xl font-bold text-zinc-400 dark:text-zinc-500\">\n                  Hr.\n                </motion.span>\n              </motion.div>\n\n              <motion.div layout className=\"flex items-center gap-2\">\n                <motion.span\n                  layoutId=\"mins-text\"\n                  className=\"text-3xl font-bold text-zinc-950 dark:text-zinc-50 tabular-nums tracking-tight\"\n                >\n                  {minutes}\n                </motion.span>\n                <motion.span layoutId=\"mins-unit\" className=\"text-3xl font-bold text-zinc-400 dark:text-zinc-500\">\n                  Min.\n                </motion.span>\n              </motion.div>\n\n              <motion.div \n                layout \n                layoutId=\"shared-action-btn\" \n                className=\"ml-2 text-zinc-400 dark:text-zinc-500 group-hover:text-zinc-600 dark:group-hover:text-zinc-300 transition-colors\"\n              >\n                <BiSolidPencil size={28} />\n              </motion.div>\n            </motion.div>\n          ) : (\n            <motion.div \n              key=\"editing-mode\" \n              className=\"flex items-center gap-3\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              {/* HOURS INPUT */}\n              <motion.div\n                layoutId=\"shared-pill-bg\"\n                transition={springTransition}\n                className=\"flex items-center gap-6 bg-zinc-100 dark:bg-zinc-900 rounded-[24px] px-6 py-6 shadow-md border border-transparent dark:border-zinc-800\"\n              >\n                <input\n                  ref={hoursInputRef}\n                  type=\"text\" \n                  inputMode=\"numeric\"\n                  value={tempHours}\n                  onChange={(e) => setTempHours(e.target.value.replace(/\\D/g, \"\").slice(0, 2))}\n                  onKeyDown={handleKeyPress}\n                  className=\"w-14 text-center text-3xl font-bold text-zinc-950 dark:text-zinc-50 bg-transparent outline-none tabular-nums\"\n                />\n                <motion.span layoutId=\"hours-unit\" className=\"text-3xl font-bold text-zinc-400 dark:text-zinc-500\">\n                  Hr.\n                </motion.span>\n              </motion.div>\n\n              {/* MINUTES INPUT */}\n              <motion.div\n                initial={{ opacity: 0, x: -20, scale: 0.9 }}\n                animate={{ opacity: 1, x: 0, scale: 1 }}\n                exit={{ opacity: 0, x: -20, scale: 0.9 }}\n                transition={{ ...springTransition, delay: 0.02 }}\n                className=\"flex items-center gap-6 bg-zinc-100 dark:bg-zinc-900 rounded-[24px] px-6 py-6 shadow-md border border-transparent dark:border-zinc-800\"\n              >\n                <input\n                  type=\"text\"\n                  inputMode=\"numeric\"\n                  value={tempMinutes}\n                  onChange={(e) => setTempMinutes(e.target.value.replace(/\\D/g, \"\").slice(0, 2))}\n                  onKeyDown={handleKeyPress}\n                  className=\"w-14 text-center text-3xl font-bold text-zinc-950 dark:text-zinc-50 bg-transparent outline-none tabular-nums\"\n                />\n                <motion.span layoutId=\"mins-unit\" className=\"text-3xl font-bold text-zinc-400 dark:text-zinc-500\">\n                  Min.\n                </motion.span>\n              </motion.div>\n\n              {/* SAVE BUTTON */}\n              <motion.button\n                layoutId=\"shared-action-btn\"\n                initial={{ opacity: 0, x: -40, scale: 0.9 }}\n                animate={{ opacity: 1, x: 0, scale: 1 }}\n                exit={{ opacity: 0, x: -40, scale: 0.9 }}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                transition={{ ...springTransition, delay: 0.05 }}\n                onClick={() => handleSave()}\n                className=\"flex items-center justify-center bg-zinc-900 dark:bg-zinc-50 hover:bg-black dark:hover:bg-white rounded-[20px] px-5 py-6 shadow-lg transition-colors\"\n              >\n                <Check size={32} className=\"text-zinc-50 dark:text-zinc-950 stroke-[3.5px]\" />\n              </motion.button>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n};\n",
      "type": "registry:ui",
      "target": "components/ui/split-to-edit.tsx"
    }
  ],
  "type": "registry:ui"
}