{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "reveal-copy",
  "dependencies": [
    "lucide-react",
    "motion"
  ],
  "files": [
    {
      "path": "src/components/ui/reveal-copy.tsx",
      "content": "\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'motion/react';\nimport { Sun, Moon } from \"lucide-react\";\nimport { FaCopy } from \"react-icons/fa\";\nimport { BsEyeFill } from 'react-icons/bs';\nimport { FaCheck } from 'react-icons/fa6';\n\nexport const RevealAndCopy = () => {\n    const [revealed, setRevealed] = useState(false);\n    const [copied, setCopied] = useState(false);\n    const [timerActive, setTimerActive] = useState(false);\n    const [isDark, setIsDark] = useState<boolean>(false);\n\n    const cardNumber = '4485 1996 2057 7516';\n    const parts = cardNumber.split(' ');\n\n    // Theme Sync logic\n    useEffect(() => {\n        if (isDark) document.documentElement.classList.add(\"dark\");\n        else document.documentElement.classList.remove(\"dark\");\n    }, [isDark]);\n\n    useEffect(() => {\n        if (!revealed) return;\n        setTimerActive(true);\n        const timer = setTimeout(() => {\n            if (!copied) {\n                resetAll();\n            }\n        }, 3000);\n        return () => clearTimeout(timer);\n    }, [revealed]);\n\n    useEffect(() => {\n        if (!copied) return;\n        const t = setTimeout(() => {\n            resetAll();\n        }, 1200);\n        return () => clearTimeout(t);\n    }, [copied]);\n\n    const resetAll = () => {\n        setRevealed(false);\n        setCopied(false);\n        setTimerActive(false);\n    };\n\n    const handleCopy = async () => {\n        if (copied) return;\n        await navigator.clipboard.writeText(cardNumber);\n        setCopied(true);\n        setTimerActive(false);\n    };\n\n    return (\n        <div className=\"flex flex-col justify-center items-center min-h-screen bg-white dark:bg-zinc-950 transition-colors duration-500 gap-8\">\n\n            {/* Theme Toggle Button */}\n            <button\n                onClick={() => setIsDark(!isDark)}\n                className=\"p-3 rounded-full bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 transition-all active:scale-90 shadow-sm\"\n            >\n                {isDark ? (\n                    <Sun className=\"text-yellow-400\" size={20} />\n                ) : (\n                    <Moon className=\"text-zinc-500\" size={20} />\n                )}\n            </button>\n\n            <div className=\"flex items-center px-2 h-[70px] min-w-[420px] rounded-[20px] border-2 border-[#E5E4ED] dark:border-zinc-800 bg-white dark:bg-zinc-900 shadow-sm transition-colors duration-500\">\n\n                {/* Numbers */}\n                <div className=\"flex flex-1 gap-0 text-[22px] tracking-[0.18em]\">\n                    {parts.map((part, idx) => (\n                        <div key={idx} className=\"w-[85px] flex font-bold justify-center relative overflow-hidden\">\n                            <AnimatePresence mode=\"popLayout\">\n                                {!revealed && (idx === 1 || idx === 2) ? (\n                                    <motion.div\n                                        key=\"masked\"\n                                        initial={{ opacity: 0, y: 6 }}\n                                        animate={{ opacity: 1, y: 0 }}\n                                        exit={{ opacity: 0, y: -6 }}\n                                        className=\"text-[#282828] dark:text-white\"\n                                    >\n                                        xxxx\n                                    </motion.div>\n                                ) : (\n                                    <div className=\"relative\">\n                                        <motion.div key=\"show\" className=\"flex\">\n                                            {part.split('').map((c, i) => (\n                                                <motion.span\n                                                    key={i}\n                                                    initial={{ opacity: 0, y: 6, filter: 'blur(6px)' }}\n                                                    animate={{\n                                                        opacity: 1,\n                                                        y: 0,\n                                                        filter: 'blur(0px)',\n                                                        transition: { delay: i * 0.05 }\n                                                    }}\n                                                    className='text-[#282828] dark:text-zinc-100'\n                                                >\n                                                    {c}\n                                                </motion.span>\n                                            ))}\n                                        </motion.div>\n\n                                        {/* Shining Sweep Effect */}\n                                        <motion.div\n                                            initial={{ x: '-150%' }}\n                                            animate={{ x: '150%' }}\n                                            transition={{\n                                                delay: 0.3,\n                                                duration: 1,\n                                                ease: \"easeInOut\"\n                                            }}\n                                            className=\"absolute inset-0 z-10 pointer-events-none mix-blend-overlay dark:mix-blend-soft-light\"\n                                            style={{\n                                                background: isDark\n                                                    ? 'linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent)'\n                                                    : 'linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent)',\n                                                width: '100%',\n                                                skewX: '-20deg'\n                                            }}\n                                        />\n                                    </div>\n                                )}\n                            </AnimatePresence>\n                        </div>\n                    ))}\n                </div>\n\n                {/* Action */}\n                <div className=\"relative w-12 h-12 ml-4\">\n                    <AnimatePresence mode=\"popLayout\">\n                        {!revealed ? (\n                            <motion.button\n                                key=\"eye\"\n                                onClick={() => setRevealed(true)}\n                                initial={{ scale: 0.85, opacity: 0 }}\n                                animate={{ scale: 1, opacity: 1 }}\n                                exit={{ scale: 0.85, opacity: 0 }}\n                                className=\"w-full h-full rounded-2xl bg-[#E4E4FF] dark:bg-indigo-900/30 text-[#4E53CA] dark:text-indigo-400 flex items-center justify-center\"\n                            >\n                                <BsEyeFill size={22} />\n                            </motion.button>\n                        ) : (\n                            <motion.button\n                                key=\"copy\"\n                                onClick={handleCopy}\n                                initial={{ scale: 0.85, opacity: 0 }}\n                                animate={{ scale: 1, opacity: 1 }}\n                                className={`relative w-full h-full rounded-2xl flex items-center justify-center transition-colors duration-300\n                                    ${copied ? 'bg-[#2DBE50] text-white' : 'bg-[#CAF9D5] dark:bg-emerald-900/30 text-[#2DBE50] dark:text-emerald-400'}`}\n                            >\n                                {timerActive && !copied && (\n                                    <svg\n                                        className=\"absolute inset-0 w-full h-full pointer-events-none\"\n                                        viewBox=\"0 0 48 48\"\n                                    >\n                                        <motion.rect\n                                            x=\"1.5\"\n                                            y=\"1.5\"\n                                            width=\"45\"\n                                            height=\"45\"\n                                            rx=\"14\"\n                                            ry=\"14\"\n                                            fill=\"transparent\"\n                                            stroke=\"currentColor\"\n                                            strokeWidth=\"3\"\n                                            strokeDasharray=\"180\"\n                                            initial={{ strokeDashoffset: 180 }}\n                                            animate={{ strokeDashoffset: 0 }}\n                                            transition={{ duration: 3, ease: 'linear' }}\n                                        />\n                                    </svg>\n                                )}\n\n                                {copied ? <FaCheck size={22} strokeWidth={2} /> : <FaCopy size={22} />}\n                            </motion.button>\n                        )}\n                    </AnimatePresence>\n                </div>\n            </div>\n        </div>\n    );\n};\n",
      "type": "registry:ui",
      "target": "components/ui/reveal-copy.tsx"
    }
  ],
  "type": "registry:ui"
}