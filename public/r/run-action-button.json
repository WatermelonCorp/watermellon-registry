{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "run-action-button",
  "dependencies": [
    "lucide-react",
    "motion"
  ],
  "files": [
    {
      "path": "src/components/ui/run-action-button.tsx",
      "content": "import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'motion/react';\nimport { Zap } from 'lucide-react';\nimport { HiBadgeCheck } from 'react-icons/hi';\nimport { IoCloseSharp } from 'react-icons/io5';\nimport { FaInbox, FaMoon, FaSun } from 'react-icons/fa6';\nimport { RiBubbleChartFill } from 'react-icons/ri';\nimport { BsFileTextFill, BsSendFill, BsTagFill } from 'react-icons/bs';\nimport { TbClockHour12Filled } from 'react-icons/tb';\n\n/*  DEFAULT DATA  */\n\nconst DEFAULT_STEPS = [\n  { id: 1, label: \"Importing Survey Data\", icon: FaInbox },\n  { id: 2, label: \"Refining Responses\", icon: RiBubbleChartFill },\n  { id: 3, label: \"Labelling Responses\", icon: BsTagFill },\n  { id: 4, label: \"Analyzing Sentiment\", icon: TbClockHour12Filled },\n  { id: 5, label: \"Creating Reports\", icon: BsFileTextFill },\n  { id: 6, label: \"Sharing Survey Report\", icon: BsSendFill },\n];\n\n/*  TYPES  */\n\ntype StepItem = {\n  id: number;\n  label: string;\n  icon: React.ComponentType<any>;\n};\n\ntype RunActionButtonProps = {\n  steps?: StepItem[];\n};\n\n/*  COMPONENT  */\n\nexport  function RunActionButton({\n  steps = DEFAULT_STEPS, \n}: RunActionButtonProps) {\n  const [status, setStatus] = useState<'idle' | 'running' | 'done'>('idle');\n  const [currentStep, setCurrentStep] = useState(0);\n  const [isDark, setIsDark] = useState(false);\n\n  const startAction = () => {\n    setStatus('running');\n    setCurrentStep(0);\n  };\n\n  const reset = () => {\n    setStatus('idle');\n    setCurrentStep(0);\n  };\n\n  useEffect(() => {\n    let interval: ReturnType<typeof setInterval>;\n\n    if (status === 'running') {\n      interval = setInterval(() => {\n        setCurrentStep((prev) => {\n          if (prev < steps.length - 1) return prev + 1;\n          setStatus('done');\n          return prev;\n        });\n      }, 1200);\n    }\n\n    return () => clearInterval(interval);\n  }, [status, steps.length]);\n\n  return (\n    <div className={isDark ? 'invert hue-rotate-180' : ''}>\n      <div className=\"relative flex items-center justify-center min-h-screen bg-white\">\n\n        {/*  Theme Toggle */}\n        <button\n          onClick={() => setIsDark(!isDark)}\n          className=\"absolute top-6 right-6 w-11 h-11 rounded-full flex items-center justify-center border bg-white shadow-sm z-20\"\n          title=\"Toggle theme\"\n        >\n          {isDark ? <FaSun /> : <FaMoon />}\n        </button>\n\n        <motion.div layout className=\"relative flex items-center justify-center\">\n          <AnimatePresence mode=\"wait\">\n\n            {status === 'idle' && (\n              <motion.button\n                key=\"idle\"\n                layoutId=\"button-container\"\n                onClick={startAction}\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.9 }}\n                className=\"flex items-center gap-2 px-6 py-4 bg-[#F4F4F9] hover:bg-[#eaeaef] rounded-full transition-colors\"\n              >\n                <Zap className=\"w-7 h-7 fill-current text-[#26262B]\" />\n                <span className=\"font-bold text-[18px] text-[#26262B]\">\n                  Run Action\n                </span>\n              </motion.button>\n            )}\n\n            {status === 'running' && (\n              <motion.div\n                key=\"running\"\n                layoutId=\"button-container\"\n                initial={{ width: 160 }}\n                animate={{ width: 340 }}\n                className=\"relative flex items-center h-[64px] px-2 bg-white rounded-full overflow-hidden\"\n              >\n                {/* Dashed Border */}\n                <svg\n                  className=\"absolute inset-0 w-full h-full pointer-events-none\"\n                  viewBox=\"0 0 340 64\"\n                  preserveAspectRatio=\"none\"\n                >\n                  <rect\n                    x=\"1.5\"\n                    y=\"1.5\"\n                    width=\"337\"\n                    height=\"61\"\n                    rx=\"32\"\n                    ry=\"32\"\n                    fill=\"none\"\n                    stroke=\"#D6D6DD\"\n                    strokeWidth=\"3\"\n                    strokeDasharray=\"8 8\"\n                  >\n                    <animate\n                      attributeName=\"stroke-dashoffset\"\n                      from=\"0\"\n                      to=\"-32\"\n                      dur=\"1.2s\"\n                      repeatCount=\"indefinite\"\n                    />\n                  </rect>\n                </svg>\n\n                {/* Icon */}\n                <div className=\"absolute left-4 flex items-center justify-center w-12 h-12 rounded-xl z-10\">\n                  <AnimatePresence mode=\"wait\">\n                    <motion.div\n                      key={currentStep}\n                      initial={{ y: 10, opacity: 0 }}\n                      animate={{ y: 0, opacity: 1 }}\n                      exit={{ y: -10, opacity: 0 }}\n                      transition={{ duration: 0.2 }}\n                    >\n                      {React.createElement(steps[currentStep].icon, {\n                        className: \"w-7 h-7 text-[#28272A]\",\n                      })}\n                    </motion.div>\n                  </AnimatePresence>\n                </div>\n\n                {/* Text */}\n                <div className=\"flex-1 ml-4 pl-12 pr-10 z-10\">\n                  <AnimatePresence mode=\"wait\">\n                    <motion.span\n                      key={currentStep}\n                      initial={{ y: 10, opacity: 0 }}\n                      animate={{ y: 0, opacity: 1 }}\n                      exit={{ y: -10, opacity: 0 }}\n                      transition={{ duration: 0.2 }}\n                      className=\"block font-bold text-[18px] text-[#28272A] whitespace-nowrap\"\n                    >\n                      {steps[currentStep].label}\n                    </motion.span>\n                  </AnimatePresence>\n                </div>\n\n                {/* Cancel */}\n                <button\n                  title=\"close\"\n                  onClick={reset}\n                  className=\"absolute right-4 p-1.5 bg-[#D6D5E2] hover:bg-[#c3c2cd] rounded-full transition-colors z-10\"\n                >\n                  <IoCloseSharp\n                    className=\"w-[20px] h-[20px] text-[#fefefe]\"\n                    strokeWidth={4}\n                  />\n                </button>\n              </motion.div>\n            )}\n\n            {status === 'done' && (\n              <motion.button\n                key=\"done\"\n                layoutId=\"button-container\"\n                onClick={reset}\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                className=\"flex items-center gap-2 px-6 py-4 bg-[#EAF9EA] rounded-full\"\n              >\n                <HiBadgeCheck className=\"w-7 h-7 text-[#22c55e]\" />\n                <span className=\"font-bold text-[18px] text-[#22c55e]\">\n                  Action Done\n                </span>\n              </motion.button>\n            )}\n\n          </AnimatePresence>\n        </motion.div>\n      </div>\n    </div>\n  );\n}",
      "type": "registry:ui",
      "target": "components/ui/run-action-button.tsx"
    }
  ],
  "type": "registry:ui"
}