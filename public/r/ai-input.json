{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-input",
  "dependencies": [
    "lucide-react",
    "motion"
  ],
  "files": [
    {
      "path": "src/components/ui/ai-input.tsx",
      "content": "\"use client\";\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'motion/react';\nimport {\n    Plus, Globe, ChevronDown, Send, Image as ImageIcon,\n    FileText, Layers, Sparkles, Cpu, Zap\n} from 'lucide-react';\nimport { LuBrain } from 'react-icons/lu';\nimport { PiLightbulbFilament } from 'react-icons/pi';\n\ninterface Model {\n    id: string;\n    name: string;\n    icon: React.ReactNode;\n}\n\nexport interface Message {\n    id: string;\n    text: string;\n    sender: 'user' | 'ai';\n}\n\ninterface AIInputProps {\n    messages?: Message[];\n    onSendMessage?: (text: string, modelId: string) => void;\n    models?: Model[];\n    backgroundText?: string;\n    placeholder?: string;\n}\n\nconst DEFAULT_MODELS: Model[] = [\n    { id: 'gpt-4o', name: 'GPT-4o', icon: <PiLightbulbFilament className=\"w-4 h-4\" /> },\n    { id: 'claude-3-5', name: 'Claude 3.5 Sonnet', icon: <Sparkles className=\"w-4 h-4\" /> },\n    { id: 'gemini-pro', name: 'Gemini Pro', icon: <Cpu className=\"w-4 h-4\" /> },\n    { id: 'llama-3-1', name: 'Llama 3.1', icon: <Zap className=\"w-4 h-4\" /> },\n];\n\nexport const AiInput: React.FC<AIInputProps> = ({\n    messages = [],\n    onSendMessage = (text, model) => console.log(`Sending: ${text} with ${model}`),\n    models = DEFAULT_MODELS,\n    backgroundText = \"Skiper Input 001\",\n    placeholder = \"Ask anything...\"\n}) => {\n    const [inputValue, setInputValue] = useState('');\n    const [isPlusMenuOpen, setIsPlusMenuOpen] = useState(false);\n    const [isModelMenuOpen, setIsModelMenuOpen] = useState(false);\n    const [isSearchActive, setIsSearchActive] = useState(false);\n    const [isDeepMindActive, setIsDeepMindActive] = useState(false);\n    const [selectedModel, setSelectedModel] = useState(models[0]);\n\n    const textAreaRef = useRef<HTMLTextAreaElement>(null);\n    const containerRef = useRef<HTMLDivElement>(null);\n    const scrollRef = useRef<HTMLDivElement>(null);\n\n    const hasMessages = messages.length > 0;\n\n    useEffect(() => {\n        if (textAreaRef.current) {\n            textAreaRef.current.style.height = 'auto';\n            textAreaRef.current.style.height = `${textAreaRef.current.scrollHeight}px`;\n        }\n    }, [inputValue]);\n\n    useEffect(() => {\n        if (scrollRef.current) {\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n        }\n    }, [messages]);\n\n    useEffect(() => {\n        const handleClickOutside = (event: MouseEvent) => {\n            if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n                setIsPlusMenuOpen(false);\n                setIsModelMenuOpen(false);\n            }\n        };\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    const handleSend = () => {\n        if (!inputValue.trim()) return;\n        onSendMessage(inputValue, selectedModel.id);\n        setInputValue('');\n    };\n\n    return (\n        <div className=\"relative w-full font-sans h-screen flex flex-col bg-[#080808] overflow-hidden\" ref={containerRef}>\n\n            {/* Background Text */}\n            <AnimatePresence>\n                {!hasMessages && (\n                    <motion.div\n                        initial={{ opacity: 0, scale: 0.9 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        exit={{ opacity: 0, scale: 1.1 }}\n                        transition={{ duration: 0.5, ease: \"easeOut\" }}\n                        className=\"absolute inset-0 flex items-end justify-center mb-36 pointer-events-none select-none z-0\"\n                    >\n                        <h1 className=\" text-2xl md:text-[150px] font-bold text-[#141414]/40 tracking-normal font-sans\">\n                            {backgroundText}\n                        </h1>\n                    </motion.div>\n                )}\n            </AnimatePresence>\n\n            {/* Messages Area */}\n            <div\n                ref={scrollRef}\n                className={`flex-1 overflow-y-auto px-4 md:px-80 flex flex-col gap-4 scroll-smooth custom-scrollbar pt-10 z-10 ${!hasMessages ? 'hidden' : 'flex'}`}\n            >\n                <AnimatePresence initial={false}>\n                    {messages.map((msg) => (\n                        <motion.div\n                            key={msg.id}\n                            initial={{ opacity: 0, y: 10, scale: 0.95 }}\n                            animate={{ opacity: 1, y: 0, scale: 1 }}\n                            className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}\n                        >\n                            <div\n                                className={`max-w-[80%] px-4 py-2 rounded-2xl text-[15px] font-medium shadow-sm ${msg.sender === 'user'\n                                        ? 'bg-[#1c1c1c] text-white rounded-tr-none border border-white/5'\n                                        : 'bg-[#111111] text-[#e5e5e5] rounded-tl-none border border-white/5 flex items-center gap-2'\n                                    }`}\n                            >\n                                {msg.text}\n                            </div>\n                        </motion.div>\n                    ))}\n                </AnimatePresence>\n            </div>\n\n            {/* Input Section Wrapper */}\n            <motion.div\n                layout\n                transition={{ type: \"spring\", stiffness: 200, damping: 25, mass: 1 }}\n                className={`w-full flex justify-center px-4 md:px-64 p-6 z-20 ${!hasMessages ? 'flex-1 items-center' : 'items-end pb-10'}`}\n            >\n                <motion.div\n                    layout\n                    className=\"bg-[#0E0E0E] border border-[#1c1c1c]/40 rounded-[24px] p-3 py-2 shadow-2xl focus-within:border-[#2d2d2d] w-full max-w-[780px] h-fit pt-4\"\n                >\n                    <textarea\n                        ref={textAreaRef}\n                        value={inputValue}\n                        onChange={(e) => setInputValue(e.target.value)}\n                        onKeyDown={(e) => {\n                            if (e.key === 'Enter' && !e.shiftKey) {\n                                e.preventDefault();\n                                handleSend();\n                            }\n                        }}\n                        placeholder={placeholder}\n                        className=\"w-full bg-transparent text-[#6e7070] placeholder-[#4F5151] font-semibold text-[16px] resize-none outline-none min-h-[44px] max-h-[200px] mb-2 px-2 leading-relaxed\"\n                        rows={1}\n                    />\n\n                    <div className=\"flex items-center justify-between mt-2 bg-[#080808] px-2 pl-1 rounded-lg\">\n                        <div className=\"flex items-center gap-2\">\n                            <div className=\"relative h-14 flex items-center justify-center\">\n                                <button title='add file'\n                                    onClick={() => setIsPlusMenuOpen(!isPlusMenuOpen)}\n                                    className={`p-3 rounded-lg transition-colors flex border border-[#1a1a1ac1] items-center justify-center ${isPlusMenuOpen ? 'bg-[#262626] text-white' : 'text-[#a3a3a3] bg-[#0d0d0d] hover:text-white'}`}\n                                >\n                                    <motion.div animate={{ rotate: isPlusMenuOpen ? 45 : 0 }} transition={{ duration: 0.2 }}>\n                                        <Plus className=\"w-5 h-5\" />\n                                    </motion.div>\n                                </button>\n\n                                <AnimatePresence>\n                                    {isPlusMenuOpen && (\n                                        <motion.div\n                                            initial={{ opacity: 0, y: 10, scale: 0.95 }}\n                                            animate={{ opacity: 1, y: 0, scale: 1 }}\n                                            exit={{ opacity: 0, y: 10, scale: 0.95 }}\n                                            className=\"absolute bottom-full left-0 mb-3 bg-[#171717] border border-[#262626] rounded-xl overflow-hidden shadow-xl min-w-[160px] z-50\"\n                                        >\n                                            <div className=\"p-1 flex flex-col gap-0.5\">\n                                                <PlusMenuItem icon={<ImageIcon className=\"w-4 h-4\" />} label=\"Images\" onClick={() => setIsPlusMenuOpen(false)} />\n                                                <PlusMenuItem icon={<FileText className=\"w-4 h-4\" />} label=\"Documents\" onClick={() => setIsPlusMenuOpen(false)} />\n                                                <PlusMenuItem icon={<Layers className=\"w-4 h-4\" />} label=\"Connect Apps\" onClick={() => setIsPlusMenuOpen(false)} />\n                                            </div>\n                                        </motion.div>\n                                    )}\n                                </AnimatePresence>\n                            </div>\n\n                            <motion.button\n                                onClick={() => setIsSearchActive(!isSearchActive)}\n                                layout\n                                className={`flex items-center gap-2 p-3 rounded-lg border border-[#1a1a1ac1] transition-all duration-300 ${isSearchActive ? 'bg-[#1e293b] text-[#38bdf8] border border-[#0ea5e9]/30' : 'text-[#a3a3a3] bg-[#0d0d0d] hover:text-white'}`}\n                            >\n                                <Globe className={`w-[20px] h-[20px] ${isSearchActive ? 'text-[#38bdf8]' : 'text-[#a3a3a3]'}`} />\n                                {isSearchActive && (\n                                    <motion.span initial={{ opacity: 0, width: 0 }} animate={{ opacity: 1, width: 'auto' }} className=\"text-sm font-medium whitespace-nowrap overflow-hidden\">\n                                        Search\n                                    </motion.span>\n                                )}\n                            </motion.button>\n\n                            <motion.button\n                                onClick={() => setIsDeepMindActive(!isDeepMindActive)}\n                                layout\n                                className={`flex items-center gap-2 p-3 rounded-lg border border-[#1a1a1ac1] transition-all duration-300 ${isDeepMindActive ? 'bg-[#1e293b] text-[#38bdf8] border border-[#0ea5e9]/30' : 'text-[#a3a3a3] bg-[#0d0d0d] hover:text-white'}`}\n                            >\n                                <LuBrain className={`w-[20px] h-[20px] ${isDeepMindActive ? 'text-[#38bdf8]' : 'text-[#a3a3a3]'}`} />\n                                {isDeepMindActive && (\n                                    <motion.span initial={{ opacity: 0, width: 0 }} animate={{ opacity: 1, width: 'auto' }} className=\"text-sm font-medium whitespace-nowrap overflow-hidden\">\n                                        DeepMind\n                                    </motion.span>\n                                )}\n                            </motion.button>\n\n                            <div className=\"relative\">\n                                <button\n                                    onClick={() => setIsModelMenuOpen(!isModelMenuOpen)}\n                                    className=\"flex items-center gap-2 p-3 rounded-lg text-[#a3a3a3] bg-[#0d0d0d] border border-[#1a1a1ac1] hover:text-white transition-colors\"\n                                >\n                                    <span className={isModelMenuOpen ? 'text-[#38bdf8]' : ''}>\n                                        {selectedModel.icon}\n                                    </span>\n                                    <span className=\"text-sm font-medium\">{selectedModel.name}</span>\n                                    <ChevronDown className={`w-3 h-3 transition-transform duration-200 ${isModelMenuOpen ? 'rotate-180' : ''}`} />\n                                </button>\n\n                                <AnimatePresence>\n                                    {isModelMenuOpen && (\n                                        <motion.div\n                                            initial={{ opacity: 0, y: 10, scale: 0.95 }}\n                                            animate={{ opacity: 1, y: 0, scale: 1 }}\n                                            exit={{ opacity: 0, y: 10, scale: 0.95 }}\n                                            className=\"absolute bottom-full left-0 mb-3 bg-[#171717] border border-[#262626] rounded-xl overflow-hidden shadow-xl min-w-[180px] z-50\"\n                                        >\n                                            <div className=\"p-1 flex flex-col gap-0.5\">\n                                                {models.map((model) => (\n                                                    <button\n                                                        key={model.id}\n                                                        onClick={() => {\n                                                            setSelectedModel(model);\n                                                            setIsModelMenuOpen(false);\n                                                        }}\n                                                        className={`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${selectedModel.id === model.id ? 'bg-[#262626] text-white' : 'text-[#a3a3a3] hover:bg-[#262626] hover:text-white'}`}\n                                                    >\n                                                        <span className={selectedModel.id === model.id ? 'text-[#38bdf8]' : ''}>{model.icon}</span>\n                                                        {model.name}\n                                                    </button>\n                                                ))}\n                                            </div>\n                                        </motion.div>\n                                    )}\n                                </AnimatePresence>\n                            </div>\n                        </div>\n\n                        <button\n                            title='send'\n                            onClick={handleSend}\n                            disabled={!inputValue.trim()}\n                            className={`p-3 py-2.5 rounded-lg transition-all duration-200 flex items-center justify-center ${inputValue.trim() ? 'text-[#0ea5e9] border-[1.6px] border-[#0ea5e9]/20 scale-100' : 'bg-[#171717] text-[#404040] cursor-not-allowed'}`}\n                        >\n                            <Send className=\"w-5 h-5\" />\n                        </button>\n                    </div>\n                </motion.div>\n            </motion.div>\n        </div>\n    );\n};\n\nconst PlusMenuItem: React.FC<{ icon: React.ReactNode; label: string; onClick: () => void }> = ({ icon, label, onClick }) => (\n    <button\n        onClick={onClick}\n        className=\"w-full flex items-center gap-3 px-3 py-2 text-[#a3a3a3] hover:text-white hover:bg-[#262626] transition-colors rounded-lg text-sm text-left group\"\n    >\n        <span className=\"group-hover:scale-110 transition-transform\">{icon}</span>\n        {label}\n    </button>\n);",
      "type": "registry:ui",
      "target": "components/ui/ai-input.tsx"
    }
  ],
  "type": "registry:ui"
}