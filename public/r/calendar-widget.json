{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "calendar-widget",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "src/components/ui/calendar-widget.tsx",
      "content": "\"use client\";\n\nimport { useState, useRef, useEffect, type FC } from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\n\n/* --- Types --- */\n\nexport interface CalendarEvent {\n  title: string;\n  time: string;\n}\n\nexport interface EventsData {\n  [key: string]: CalendarEvent[];\n}\n\ninterface DateItem {\n  day: number;\n  fullDate: string;\n  month: number;\n  year: number;\n  dateObj: Date;\n  dayOfWeek: number;\n  dayName: string;\n}\n\nexport interface CalendarWidgetProps {\n  events: EventsData;\n  initialSelectedDate: string;\n  currentMonthYear: string;\n}\n\n/* --- Constants --- */\n\nconst daysOfWeek: string[] = [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"];\n\n/* --- Main Component --- */\n\nexport const CalendarWidget: FC<CalendarWidgetProps> = ({\n  events,\n  initialSelectedDate,\n  currentMonthYear,\n}) => {\n  const [selectedDate, setSelectedDate] = useState<string>(\n    initialSelectedDate\n  );\n\n  const scrollRef = useRef<HTMLDivElement | null>(null);\n  const isDragging = useRef<boolean>(false);\n  const startX = useRef<number>(0);\n  const scrollLeftStart = useRef<number>(0);\n\n  useEffect(() => {\n    const el = scrollRef.current;\n    if (!el) return;\n\n    const onMouseDown = (e: MouseEvent) => {\n      isDragging.current = true;\n      startX.current = e.pageX - el.offsetLeft;\n      scrollLeftStart.current = el.scrollLeft;\n      el.style.cursor = \"grabbing\";\n    };\n\n    const onMouseLeave = () => {\n      isDragging.current = false;\n      el.style.cursor = \"grab\";\n    };\n\n    const onMouseUp = () => {\n      isDragging.current = false;\n      el.style.cursor = \"grab\";\n    };\n\n    const onMouseMove = (e: MouseEvent) => {\n      if (!isDragging.current) return;\n      e.preventDefault();\n      const x = e.pageX - el.offsetLeft;\n      const walk = (x - startX.current) * 1;\n      el.scrollLeft = scrollLeftStart.current - walk;\n    };\n\n    el.style.cursor = \"grab\";\n    el.addEventListener(\"mousedown\", onMouseDown);\n    el.addEventListener(\"mouseleave\", onMouseLeave);\n    el.addEventListener(\"mouseup\", onMouseUp);\n    el.addEventListener(\"mousemove\", onMouseMove);\n\n    return () => {\n      el.removeEventListener(\"mousedown\", onMouseDown);\n      el.removeEventListener(\"mouseleave\", onMouseLeave);\n      el.removeEventListener(\"mouseup\", onMouseUp);\n      el.removeEventListener(\"mousemove\", onMouseMove);\n    };\n  }, []);\n\n  const dates: DateItem[] = Array.from({ length: 92 }, (_, i) => {\n    const date = new Date(2024, 8, 1 + i);\n    return {\n      day: date.getDate(),\n      fullDate: date.toISOString().split(\"T\")[0],\n      month: date.getMonth(),\n      year: date.getFullYear(),\n      dateObj: date,\n      dayOfWeek: date.getDay(),\n      dayName: daysOfWeek[date.getDay()],\n    };\n  });\n\n  return (\n    <div className=\"flex flex-col items-center justify-center h-screen bg-white dark:bg-zinc-950 transition-colors duration-500 w-full gap-6\">\n\n      <div className=\"w-[340px] rounded-[30px] bg-[#F6F5FA] dark:bg-zinc-900 shadow-lg flex flex-col gap-2 select-none border border-black/10 dark:border-white/5 transition-colors duration-500\">\n        <div className=\"p-4\">\n          {/* Month/Year Header */}\n          <motion.div\n            key={currentMonthYear}\n            initial={{ opacity: 0, y: -5 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"text-xl pb-4 font-semibold dark:text-white\"\n          >\n            {currentMonthYear}\n          </motion.div>\n\n          {/* Dates */}\n          <div className=\"relative\">\n            <div\n              ref={scrollRef}\n              className=\"flex overflow-x-auto scrollbar-hide pb-2 gap-2\"\n              style={{ scrollbarWidth: \"none\", msOverflowStyle: \"none\" }}\n            >\n              {dates.map((date) => {\n                const isSelected = selectedDate === date.fullDate;\n                const hasEvent = events[date.fullDate]?.length > 0;\n\n                return (\n                  <div\n                    key={date.fullDate}\n                    className=\"relative flex flex-col items-center min-w-9 pt-4\"\n                  >\n                    <div\n                      className={`text-base font-medium mb-1 ${\n                        isSelected\n                          ? \"text-black dark:text-white\"\n                          : \"text-gray-500 dark:text-zinc-500\"\n                      }`}\n                    >\n                      {date.dayName}\n                    </div>\n\n                    <motion.div\n                      className=\"flex flex-col items-center cursor-pointer relative\"\n                      whileTap={{ scale: 0.9 }}\n                      onClick={() => setSelectedDate(date.fullDate)}\n                    >\n                      <div className=\"relative w-10 h-10 flex items-center justify-center\">\n                        {isSelected && (\n                          <motion.div\n                            layoutId=\"selected-date-bg\"\n                            transition={{\n                              type: \"spring\",\n                              stiffness: 180,\n                              damping: 22,\n                            }}\n                            className=\"absolute inset-0 rounded-full bg-white dark:bg-zinc-800 shadow-sm\"\n                          />\n                        )}\n                        <span\n                          className={`relative z-10 text-base font-medium ${\n                            isSelected\n                              ? \"text-black dark:text-white\"\n                              : \"text-black/80 dark:text-zinc-400\"\n                          }`}\n                        >\n                          {date.day}\n                        </span>\n                      </div>\n\n                      {hasEvent && !isSelected && (\n                        <motion.span\n                          layout\n                          className=\"h-1.5 w-1.5 rounded-full bg-[#cecdd1] dark:bg-zinc-700 mt-1\"\n                        />\n                      )}\n                    </motion.div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n\n        {/* Events */}\n        <div className=\"relative rounded-[28px] px-4 pt-2 bg-white dark:bg-zinc-950 flex flex-col h-52 border-black/10 dark:border-white/5 border overflow-hidden transition-colors duration-500\">\n          <motion.div className=\"relative h-full overflow-y-scroll no-scrollbar\">\n            <AnimatePresence mode=\"wait\">\n              {events[selectedDate]?.length ? (\n                <motion.div key=\"list\" className=\"pb-8\">\n                  {events[selectedDate].map((event) => (\n                    <motion.div\n                      key={event.title}\n                      initial={{ opacity: 0, y: 15 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      className=\"flex flex-col border-b border-gray-200 dark:border-zinc-800 py-2 last:border-b-0\"\n                    >\n                      <span className=\"font-medium text-black/70 dark:text-zinc-300 text-base\">\n                        {event.title}\n                      </span>\n                      <span className=\"text-base text-gray-500 dark:text-zinc-500\">\n                        {event.time}\n                      </span>\n                    </motion.div>\n                  ))}\n                </motion.div>\n              ) : (\n                <motion.div\n                  key=\"no-events\"\n                  className=\"flex flex-col items-center justify-center h-40 gap-3\"\n                >\n                  <p className=\"text-sm text-neutral-500 dark:text-zinc-500\">\n                    No Events\n                  </p>\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </motion.div>\n\n          <div className=\"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-white dark:from-zinc-950 via-white/70 dark:via-zinc-950/70 to-transparent pointer-events-none rounded-b-[30px]\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n",
      "type": "registry:ui",
      "target": "components/ui/calendar-widget.tsx"
    }
  ],
  "type": "registry:ui"
}